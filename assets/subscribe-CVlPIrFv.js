import{r as i,b as y,j as e,C as h,B as S,e as f,f as j,a as g,bw as P,h as b,ai as C,ah as k,aS as E,aU as A,$,X as I,a6 as T,am as B}from"./index-CeACcdR0.js";import{E as F,l as L,u as M,a as O,P as U}from"./index-DJT_lXMh.js";const N=L("pk_test_51Rs8sDF2BrAZxNc0Vl4BlwodUxflv35pWfkNSOleKnUX5dPNMY4JI70PdPGa7vqFpTSCGhALT2jdYZ6UPENumXu500TZ8oKOos");function Y({selectedPlan:r,onSuccess:c}){const a=M(),n=O(),{toast:l}=y(),[o,m]=i.useState(!1),x=async d=>{if(d.preventDefault(),!(!a||!n)){m(!0);try{const{error:s}=await a.confirmPayment({elements:n,confirmParams:{return_url:`${window.location.origin}/chat?upgraded=true`}});s?l({title:"Payment Failed",description:s.message,variant:"destructive"}):(l({title:"Welcome to Premium!",description:"Your subscription is now active."}),c())}catch{l({title:"Payment Error",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{m(!1)}}};return e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx(U,{}),e.jsx(b,{type:"submit",disabled:!a||o,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:o?"Processing...":`Subscribe to ${r} Plan`})]})}function D(){const[r,c]=i.useState("pro"),[a,n]=i.useState(""),[l,o]=i.useState(!1),{toast:m}=y(),x={basic:{name:"Basic",price:9.99,features:["Custom Reactions","Premium Themes","Voice Messages"],color:"purple",icon:$},pro:{name:"Pro",price:19.99,features:["Everything in Basic","AI Chat Assistant","File Sharing","NFT Integration","Poll Creation"],color:"yellow",icon:I,popular:!0},enterprise:{name:"Enterprise",price:49.99,features:["Everything in Pro","Priority Support","Analytics Dashboard","White-label Options","API Access"],color:"cyan",icon:T}},d=async s=>{o(!0);try{const t=await B("POST","/api/create-subscription",{plan:s,priceId:`price_${s}_monthly`});if(t.ok){const p=await t.json();n(p.clientSecret)}else throw new Error("Failed to create subscription")}catch{m({title:"Setup Error",description:"Stripe is not configured yet. Please contact support.",variant:"destructive"})}finally{o(!1)}};return i.useEffect(()=>{d(r)},[r]),e.jsx("div",{className:"min-h-screen p-6 pt-20 bg-slate-900",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 via-cyan-400 to-purple-600 bg-clip-text text-transparent mb-4",children:"Choose Your Premium Plan"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Unlock powerful features and elevate your blockchain messaging experience"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Object.entries(x).map(([s,t])=>{const p=t.icon,u=r===s;return e.jsxs(h,{className:`relative cursor-pointer transition-all duration-200 ${u?t.color==="purple"?"border-purple-500 bg-purple-500/5":t.color==="yellow"?"border-yellow-500 bg-yellow-500/5":"border-cyan-500 bg-cyan-500/5":"border-slate-700 hover:border-slate-600"} ${"popular"in t&&t.popular?"scale-105":""}`,onClick:()=>c(s),children:["popular"in t&&t.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(S,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-bold",children:"Most Popular"})}),e.jsxs(f,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:`p-3 rounded-full ${t.color==="purple"?"bg-purple-500/20":t.color==="yellow"?"bg-yellow-500/20":"bg-cyan-500/20"}`,children:e.jsx(p,{className:`w-8 h-8 ${t.color==="purple"?"text-purple-400":t.color==="yellow"?"text-yellow-400":"text-cyan-400"}`})})}),e.jsx(j,{className:`text-2xl ${t.color==="purple"?"text-purple-400":t.color==="yellow"?"text-yellow-400":"text-cyan-400"}`,children:t.name}),e.jsxs("div",{className:"text-4xl font-bold text-white",children:["$",t.price,e.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"/month"})]})]}),e.jsxs(g,{className:"space-y-3",children:[t.features.map((w,v)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:w})]},v)),e.jsx("div",{className:"pt-4",children:e.jsx(b,{className:`w-full ${u?t.color==="purple"?"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700":t.color==="yellow"?"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700":"bg-gradient-to-r from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700":"bg-slate-700 hover:bg-slate-600"}`,onClick:()=>c(s),children:u?"Selected":"Select Plan"})})]})]},s)})}),a&&N?e.jsxs(h,{className:"max-w-md mx-auto bg-slate-800/50 border-purple-500/20",children:[e.jsx(f,{children:e.jsx(j,{className:"text-center text-purple-400",children:"Complete Your Subscription"})}),e.jsx(g,{children:e.jsx(F,{stripe:N,options:{clientSecret:a},children:e.jsx(Y,{selectedPlan:r,onSuccess:()=>window.location.href="/chat?upgraded=true"})})})]}):e.jsx(h,{className:"max-w-md mx-auto bg-slate-800/50 border-slate-700",children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx("div",{className:"text-slate-400 mb-4",children:"Payment system is being configured..."}),e.jsx(b,{disabled:l,onClick:()=>d(r),className:"bg-purple-600 hover:bg-purple-700",children:l?"Setting up...":"Continue"})]})}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(C,{className:"w-8 h-8 text-cyan-400 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Smart message crafting"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(k,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-white",children:"Voice Messages"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Audio communication"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(E,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-white",children:"Premium Themes"}),e.jsx("p",{className:"text-sm text-slate-400",children:"6 exclusive designs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-white",children:"Priority Support"}),e.jsx("p",{className:"text-sm text-slate-400",children:"24/7 assistance"})]})]})]})})}export{D as default};

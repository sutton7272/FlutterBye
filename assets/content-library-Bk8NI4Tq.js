import{b as ee,r as i,j as e,S as ae,I as N,s as k,t as F,v as I,w as U,x as c,as as te,bk as se,h as n,aB as le,at as re,au as ne,av as ie,aG as f,T as ce,i as oe,k as D,bl as p,$ as j,n as E,C as h,a as u,B as g,cc as de,aw as R,E as me,bv as xe,ae as B,y as pe}from"./index-CeACcdR0.js";import{F as M}from"./folder-SM396it0.js";import{M as he}from"./music-zfdWUr0c.js";import{V as ue}from"./video-C-l3TkvW.js";function ye(){const{toast:o}=ee(),[W,d]=i.useState([]),[Z,w]=i.useState(!1),[y,_]=i.useState(""),[v,$]=i.useState("all"),[C,J]=i.useState("all"),[m,L]=i.useState(!1),[r,b]=i.useState({name:"",category:"General",tags:"",type:"image"}),z=["General","Brand Assets","Product Images","Marketing","Educational","Community","Templates"],T=[{id:"1",name:"FlutterBye Logo Primary",type:"image",url:"/public-objects/brand/flutter-logo-primary.png",tags:["logo","brand","primary"],category:"Brand Assets",createdAt:"2025-01-14T10:00:00Z",updatedAt:"2025-01-14T10:00:00Z",fileSize:125e3,usage:45,aiGenerated:!1},{id:"2",name:"Token Creation Guide",type:"text",content:"Step-by-step guide to creating your first FlutterBye token. Perfect for educational content and tutorials.",tags:["guide","tutorial","tokens"],category:"Educational",createdAt:"2025-01-14T11:00:00Z",updatedAt:"2025-01-14T11:00:00Z",usage:23,aiGenerated:!0},{id:"3",name:"Web3 Communication Template",type:"template",content:"🚀 Discover the future of communication with FlutterBye! [CUSTOM_MESSAGE] Join the revolution at [LINK] #FlutterBye #Web3",tags:["template","web3","communication"],category:"Templates",createdAt:"2025-01-14T12:00:00Z",updatedAt:"2025-01-14T12:00:00Z",usage:67,aiGenerated:!0}];i.useEffect(()=>{K()},[]);const K=async()=>{try{const a=await fetch("/api/content/library");if(a.ok){const t=await a.json();d(Array.isArray(t)?t:T)}else d(T)}catch(a){console.error("Failed to fetch content:",a),d(T)}},H=async a=>{var s;const t=(s=a.target.files)==null?void 0:s[0];if(t)try{const l=await fetch("/api/objects/upload",{method:"POST"}),{uploadURL:x}=await l.json();if(new FormData().append("file",t),(await fetch(x,{method:"PUT",body:t})).ok){const P={...r,name:r.name||t.name,type:q(t.type),url:x.split("?")[0],tags:r.tags.split(",").map(G=>G.trim()).filter(Boolean),fileSize:t.size,usage:0,aiGenerated:!1},V=await fetch("/api/content/library",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(V.ok){const G=await V.json();d(Y=>[...Y,G]),o({title:"Content Uploaded Successfully!",description:`${P.name} has been added to your library`,className:"bg-green-900 border-green-500 text-white"}),w(!1),b({name:"",category:"General",tags:"",type:"image"})}}}catch{o({title:"Upload Failed",description:"Could not upload content to library",variant:"destructive"})}},q=a=>a.startsWith("image/")?"image":a.startsWith("video/")?"video":a.startsWith("audio/")?"audio":"text",S=async a=>{L(!0);try{const t=await fetch("/api/content/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:a,platform:"general"})});if(t.ok){const s=await t.json(),l={id:Date.now().toString(),name:`AI Generated ${a}`,type:a==="post_template"?"template":"text",content:s.content,tags:s.hashtags||["ai-generated"],category:"AI Generated",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),usage:0,aiGenerated:!0};d(x=>[...x,l]),o({title:"AI Content Generated!",description:`New ${a} content has been created`,className:"bg-green-900 border-green-500 text-white"})}}catch{o({title:"Generation Failed",description:"Could not generate AI content",variant:"destructive"})}finally{L(!1)}},Q=async a=>{try{(await fetch(`/api/content/library/${a}`,{method:"DELETE"})).ok&&(d(s=>s.filter(l=>l.id!==a)),o({title:"Content deleted successfully",className:"bg-green-900 border-green-500 text-white"}))}catch{o({title:"Failed to delete content",variant:"destructive"})}},O=a=>{navigator.clipboard.writeText(a),o({title:"Copied to clipboard",className:"bg-green-900 border-green-500 text-white"})},A=W.filter(a=>{const t=a.name.toLowerCase().includes(y.toLowerCase())||a.tags.some(x=>x.toLowerCase().includes(y.toLowerCase())),s=v==="all"||a.category===v,l=C==="all"||a.type===C;return t&&s&&l}),X=a=>{switch(a){case"image":return pe;case"video":return ue;case"audio":return he;case"template":return p;default:return p}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"📁 Content Library & Asset Management"}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Store, organize, and manage content for AI-powered social media generation"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx(N,{placeholder:"Search content and tags...",value:y,onChange:a=>_(a.target.value),className:"bg-slate-800 border-purple-500/30 text-white pl-10"})]})}),e.jsxs(k,{value:v,onValueChange:$,children:[e.jsx(F,{className:"bg-slate-800 border-purple-500/30 text-white w-40",children:e.jsx(I,{})}),e.jsxs(U,{children:[e.jsx(c,{value:"all",children:"All Categories"}),z.map(a=>e.jsx(c,{value:a,children:a},a))]})]}),e.jsxs(k,{value:C,onValueChange:J,children:[e.jsx(F,{className:"bg-slate-800 border-purple-500/30 text-white w-32",children:e.jsx(I,{})}),e.jsxs(U,{children:[e.jsx(c,{value:"all",children:"All Types"}),e.jsx(c,{value:"image",children:"Images"}),e.jsx(c,{value:"video",children:"Videos"}),e.jsx(c,{value:"text",children:"Text"}),e.jsx(c,{value:"template",children:"Templates"})]})]}),e.jsxs(te,{open:Z,onOpenChange:w,children:[e.jsx(se,{asChild:!0,children:e.jsxs(n,{className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Upload Content"]})}),e.jsxs(re,{className:"bg-slate-800 border-purple-500/30",children:[e.jsx(ne,{children:e.jsx(ie,{className:"text-purple-400",children:"Upload New Content"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"contentName",children:"Content Name"}),e.jsx(N,{id:"contentName",placeholder:"Enter content name",value:r.name,onChange:a=>b({...r,name:a.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"category",children:"Category"}),e.jsxs(k,{value:r.category,onValueChange:a=>b({...r,category:a}),children:[e.jsx(F,{className:"bg-slate-700 border-slate-600",children:e.jsx(I,{})}),e.jsx(U,{children:z.map(a=>e.jsx(c,{value:a,children:a},a))})]})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"tags",children:"Tags (comma-separated)"}),e.jsx(N,{id:"tags",placeholder:"brand, logo, primary, web3",value:r.tags,onChange:a=>b({...r,tags:a.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"file",children:"Select File"}),e.jsx(N,{id:"file",type:"file",accept:"image/*,video/*,audio/*,.txt,.md",onChange:H,className:"bg-slate-700 border-slate-600 text-white file:bg-purple-600 file:text-white file:border-none file:px-3 file:py-1 file:rounded"})]}),e.jsx(n,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})]})]})]})]}),e.jsxs(ce,{defaultValue:"library",className:"space-y-8",children:[e.jsxs(oe,{className:"grid w-full grid-cols-3 bg-slate-800 border-purple-500/30",children:[e.jsxs(D,{value:"library",className:"text-white data-[state=active]:bg-purple-600",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Content Library"]}),e.jsxs(D,{value:"templates",className:"text-white data-[state=active]:bg-purple-600",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Templates"]}),e.jsxs(D,{value:"ai-generator",className:"text-white data-[state=active]:bg-purple-600",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"AI Generator"]})]}),e.jsx(E,{value:"library",className:"space-y-6",children:A.length===0?e.jsx(h,{className:"bg-slate-800/50 border-slate-700",children:e.jsxs(u,{className:"p-8 text-center",children:[e.jsx(M,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Content Found"}),e.jsx("p",{className:"text-slate-400",children:"Upload content or adjust your search filters"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(a=>{const t=X(a.type);return e.jsx(h,{className:"bg-slate-800/50 border-purple-500/30 group hover:border-purple-400 transition-colors",children:e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"w-5 h-5 text-purple-400"}),e.jsx("h4",{className:"font-semibold text-white truncate",children:a.name})]}),a.aiGenerated&&e.jsxs(g,{variant:"secondary",className:"bg-purple-900/50 text-purple-300",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),"AI"]})]}),a.type==="image"&&a.url&&e.jsx("div",{className:"mb-3 rounded-lg overflow-hidden bg-slate-700/50",children:e.jsx("img",{src:a.url,alt:a.name,className:"w-full h-32 object-cover"})}),(a.type==="text"||a.type==="template")&&a.content&&e.jsx("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-slate-300 line-clamp-3",children:a.content})}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.tags.slice(0,3).map((s,l)=>e.jsxs(g,{variant:"outline",className:"text-xs border-purple-500/30",children:[e.jsx(de,{className:"w-2 h-2 mr-1"}),s]},l)),a.tags.length>3&&e.jsxs(g,{variant:"outline",className:"text-xs border-purple-500/30",children:["+",a.tags.length-3]})]}),e.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:[e.jsxs("p",{children:[a.category," • Used ",a.usage," times"]}),a.fileSize&&e.jsxs("p",{children:[(a.fileSize/1024).toFixed(1)," KB"]})]}),e.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{size:"sm",variant:"outline",onClick:()=>O(a.url||a.content||""),children:e.jsx(R,{className:"w-3 h-3"})}),a.url&&e.jsx(n,{size:"sm",variant:"outline",onClick:()=>window.open(a.url,"_blank"),children:e.jsx(me,{className:"w-3 h-3"})}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>Q(a.id),className:"text-red-400 hover:text-red-300",children:e.jsx(xe,{className:"w-3 h-3"})})]})]})},a.id)})})}),e.jsx(E,{value:"templates",className:"space-y-6",children:e.jsx("div",{className:"grid gap-4",children:A.filter(a=>a.type==="template").map(a=>e.jsx(h,{className:"bg-slate-800/50 border-purple-500/30",children:e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:a.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{className:"bg-purple-600",children:"Template"}),e.jsxs(g,{variant:"outline",children:["Used ",a.usage," times"]})]})]}),e.jsx("div",{className:"p-4 bg-slate-700/50 rounded-lg mb-4",children:e.jsx("p",{className:"text-slate-300",children:a.content})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:a.tags.map((t,s)=>e.jsx(g,{variant:"outline",className:"text-xs",children:t},s))}),e.jsxs(n,{onClick:()=>O(a.content||""),children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Copy Template"]})]})]})},a.id))})}),e.jsx(E,{value:"ai-generator",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(h,{className:"bg-slate-800/50 border-purple-500/30",children:e.jsxs(u,{className:"p-6 text-center",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-4 text-purple-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Platform Update"}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Generate content about FlutterBye updates and features"}),e.jsxs(n,{onClick:()=>S("platform_update"),disabled:m,className:"w-full",children:[m?e.jsx(B,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(j,{className:"w-4 h-4 mr-2"}),"Generate"]})]})}),e.jsx(h,{className:"bg-slate-800/50 border-purple-500/30",children:e.jsxs(u,{className:"p-6 text-center",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-4 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Educational Content"}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Create tutorials and guides for Web3 communication"}),e.jsxs(n,{onClick:()=>S("educational"),disabled:m,className:"w-full",children:[m?e.jsx(B,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(j,{className:"w-4 h-4 mr-2"}),"Generate"]})]})}),e.jsx(h,{className:"bg-slate-800/50 border-purple-500/30",children:e.jsxs(u,{className:"p-6 text-center",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Post Template"}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Generate reusable post templates with placeholders"}),e.jsxs(n,{onClick:()=>S("post_template"),disabled:m,className:"w-full",children:[m?e.jsx(B,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(j,{className:"w-4 h-4 mr-2"}),"Generate"]})]})})]})})]})]})})}export{ye as default};

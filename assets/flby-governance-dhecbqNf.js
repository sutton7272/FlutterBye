import{a3 as B,r as m,b as A,d as w,j as e,B as n,az as x,C as t,a,bl as Y,aC as P,a8 as q,o as D,T as E,i as M,k as u,n as h,e as p,aW as I,ab as C,h as g,f as V,aG as j,I as H,aH as R,aM as U,a7 as z,aY as G,aA as Q,am as k}from"./index-CeACcdR0.js";import{V as F}from"./vote-kumq2Ah3.js";import{T as O}from"./thumbs-up-Bqyc7nFX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=B("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);function K(){const[o,v]=m.useState(""),[l,N]=m.useState(""),[b,f]=m.useState("platform"),{toast:i}=A(),S=[{id:"prop-001",title:"Reduce Platform Fees by 20%",description:"Proposal to reduce minting and transaction fees by 20% to increase platform adoption and user engagement.",category:"tokenomics",status:"active",votesFor:75420,votesAgainst:12380,totalVotes:87800,quorum:1e5,endDate:"2024-02-15",createdBy:"Community",votingPower:0,hasVoted:!1},{id:"prop-002",title:"Implement Cross-Chain Bridge",description:"Add support for Ethereum and Polygon bridges to enable cross-chain FLBY token transfers and expand the platform reach.",category:"features",status:"active",votesFor:120500,votesAgainst:45200,totalVotes:165700,quorum:1e5,endDate:"2024-02-20",createdBy:"Core Team",votingPower:0,hasVoted:!1},{id:"prop-003",title:"Partnership with Major DEX",description:"Establish strategic partnership with Jupiter Exchange for enhanced liquidity and trading features.",category:"partnerships",status:"passed",votesFor:245600,votesAgainst:34500,totalVotes:280100,quorum:1e5,endDate:"2024-01-30",createdBy:"Governance Council",votingPower:0,hasVoted:!0,userVote:"for"}],r={totalProposals:15,activeProposals:3,totalVoters:8420,userVotingPower:0,participationRate:67.8},c=w({mutationFn:async s=>k("/api/flby/governance/vote",{method:"POST",body:s}),onSuccess:()=>{i({title:"Vote Submitted",description:"Your vote has been recorded successfully!"})},onError:()=>{i({title:"Feature Coming Soon",description:"FLBY governance will be available after token launch in Q2 2024.",variant:"destructive"})}}),d=w({mutationFn:async s=>k("/api/flby/governance/proposals",{method:"POST",body:s}),onSuccess:()=>{i({title:"Proposal Created",description:"Your proposal has been submitted for community review!"}),v(""),N(""),f("platform")},onError:()=>{i({title:"Feature Coming Soon",description:"Proposal creation will be available after token launch.",variant:"destructive"})}}),T=s=>{switch(s){case"active":return e.jsx(P,{className:"w-4 h-4 text-blue-400"});case"passed":return e.jsx(Q,{className:"w-4 h-4 text-green-400"});case"rejected":return e.jsx(G,{className:"w-4 h-4 text-red-400"});case"executed":return e.jsx(z,{className:"w-4 h-4 text-purple-400"});default:return e.jsx(x,{className:"w-4 h-4 text-gray-400"})}},L=s=>{switch(s){case"platform":return"bg-blue-500/20 text-blue-400";case"tokenomics":return"bg-green-500/20 text-green-400";case"features":return"bg-purple-500/20 text-purple-400";case"partnerships":return"bg-orange-500/20 text-orange-400";case"governance":return"bg-pink-500/20 text-pink-400";default:return"bg-gray-500/20 text-gray-400"}};return e.jsxs("div",{className:"min-h-screen text-white relative overflow-hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-cyan-900/20 pointer-events-none"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"FLBY Governance"})}),e.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Shape the future of Flutterbye through decentralized governance. Vote on proposals and create change."}),e.jsxs(n,{variant:"secondary",className:"mt-4 px-4 py-2",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Coming Soon - Q2 2024"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[e.jsx(t,{className:"electric-frame",children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx(Y,{className:"w-6 h-6 mx-auto mb-2 text-blue-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Proposals"}),e.jsx("p",{className:"text-xl font-bold",children:r.totalProposals})]})}),e.jsx(t,{className:"electric-frame",children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx(P,{className:"w-6 h-6 mx-auto mb-2 text-orange-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-xl font-bold",children:r.activeProposals})]})}),e.jsx(t,{className:"electric-frame",children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx(q,{className:"w-6 h-6 mx-auto mb-2 text-green-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Voters"}),e.jsx("p",{className:"text-xl font-bold",children:r.totalVoters.toLocaleString()})]})}),e.jsx(t,{className:"electric-frame",children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx(F,{className:"w-6 h-6 mx-auto mb-2 text-purple-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"My Voting Power"}),e.jsx("p",{className:"text-xl font-bold",children:r.userVotingPower.toLocaleString()})]})}),e.jsx(t,{className:"electric-frame",children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx(D,{className:"w-6 h-6 mx-auto mb-2 text-cyan-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Participation"}),e.jsxs("p",{className:"text-xl font-bold",children:[r.participationRate,"%"]})]})})]}),e.jsxs(E,{defaultValue:"proposals",className:"space-y-8",children:[e.jsxs(M,{className:"grid w-full grid-cols-3",children:[e.jsx(u,{value:"proposals",children:"Active Proposals"}),e.jsx(u,{value:"create",children:"Create Proposal"}),e.jsx(u,{value:"history",children:"Voting History"})]}),e.jsx(h,{value:"proposals",className:"space-y-6",children:e.jsx("div",{className:"space-y-6",children:S.map(s=>{var y;return e.jsxs(t,{className:"electric-frame",children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[T(s.status),e.jsx("h3",{className:"text-lg font-semibold text-gradient",children:s.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:L(s.category),children:s.category.toUpperCase()}),e.jsx(n,{variant:"outline",children:s.status.toUpperCase()}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["by ",s.createdBy]})]})]}),e.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(I,{className:"w-3 h-3"}),"Ends ",s.endDate]}),e.jsxs("div",{children:["Quorum: ",(s.totalVotes/s.quorum*100).toFixed(1),"%"]})]})]})}),e.jsxs(a,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:s.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["Support: ",(s.votesFor/s.totalVotes*100).toFixed(1),"%"]}),e.jsxs("span",{children:[s.totalVotes.toLocaleString()," total votes"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-green-400",children:["For: ",s.votesFor.toLocaleString()]}),e.jsxs("span",{className:"text-red-400",children:["Against: ",s.votesAgainst.toLocaleString()]})]}),e.jsx(C,{value:s.votesFor/s.totalVotes*100,className:"h-2"})]}),e.jsx(C,{value:s.totalVotes/s.quorum*100,className:"h-1"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Quorum progress: ",s.totalVotes.toLocaleString()," / ",s.quorum.toLocaleString()]})]}),s.status==="active"&&e.jsx("div",{className:"flex gap-4 pt-4",children:s.hasVoted?e.jsxs(n,{variant:"secondary",className:"px-4 py-2",children:["You voted: ",(y=s.userVote)==null?void 0:y.toUpperCase()]}):e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"outline",size:"sm",className:"flex-1 border-green-500/50 text-green-400 hover:bg-green-500/10",onClick:()=>c.mutate({proposalId:s.id,vote:"for"}),disabled:c.isPending,children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Vote For"]}),e.jsxs(g,{variant:"outline",size:"sm",className:"flex-1 border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:()=>c.mutate({proposalId:s.id,vote:"against"}),disabled:c.isPending,children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Vote Against"]})]})})]})]},s.id)})})}),e.jsx(h,{value:"create",className:"space-y-6",children:e.jsxs(t,{className:"electric-frame",children:[e.jsxs(p,{children:[e.jsx(V,{className:"text-gradient",children:"Create New Proposal"}),e.jsx("p",{className:"text-muted-foreground",children:"Submit a proposal for the community to vote on. Requires minimum staking power to create."})]}),e.jsxs(a,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Proposal Title"}),e.jsx(H,{value:o,onChange:s=>v(s.target.value),placeholder:"Enter a clear, descriptive title",className:"pulse-border"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Category"}),e.jsxs("select",{value:b,onChange:s=>f(s.target.value),className:"w-full p-2 rounded-md bg-background border border-input pulse-border",children:[e.jsx("option",{value:"platform",children:"Platform Improvements"}),e.jsx("option",{value:"tokenomics",children:"Tokenomics Changes"}),e.jsx("option",{value:"features",children:"New Features"}),e.jsx("option",{value:"partnerships",children:"Partnerships"}),e.jsx("option",{value:"governance",children:"Governance Updates"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Description"}),e.jsx(R,{value:l,onChange:s=>N(s.target.value),placeholder:"Provide a detailed description of your proposal, including rationale and expected impact...",rows:6,className:"pulse-border"})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-600 dark:text-yellow-400 mb-2",children:"Proposal Requirements"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Minimum 10,000 FLBY staked to create proposals"}),e.jsx("li",{children:"• Proposals must be relevant to platform governance"}),e.jsx("li",{children:"• Community review period of 48 hours before voting begins"}),e.jsx("li",{children:"• Voting period lasts 7 days from activation"})]})]}),e.jsx(g,{onClick:()=>{o&&l&&d.mutate({title:o,description:l,category:b})},disabled:!o||!l||d.isPending,className:"w-full",size:"lg",children:d.isPending?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Proposal..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Create Proposal"]})}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.jsx("strong",{children:"Coming Soon:"})," Governance features will be available after FLBY token launch in Q2 2024. Stake FLBY tokens to gain voting power and proposal creation rights!"]})})]})]})}),e.jsx(h,{value:"history",className:"space-y-6",children:e.jsxs(t,{className:"electric-frame",children:[e.jsx(p,{children:e.jsx(V,{className:"text-gradient",children:"Your Voting History"})}),e.jsx(a,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Voting History"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start participating in governance by voting on active proposals!"}),e.jsx(n,{variant:"secondary",children:"Available after FLBY token launch"})]})})]})})]})]})]})}export{K as default};

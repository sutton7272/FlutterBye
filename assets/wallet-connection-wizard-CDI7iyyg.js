import{r as d,j as e,C as l,e as o,W as g,f as m,g as x,a as c,ab as F,aA as b,h,A as M,bY as v,be as R,bZ as C,B as y,an as Y,a6 as k,l as E,Z as T,ay as Z}from"./index-CeACcdR0.js";function H({onConnect:W,onClose:i,isConnecting:q=!1}){var w,N;const[u,p]=d.useState("options"),[j,S]=d.useState(""),[n,A]=d.useState(0),a=[{id:"phantom",name:"Phantom",icon:"ðŸ‘»",description:"Most popular Solana wallet with mobile app",mobile:!0,recommended:!0,installed:typeof window<"u"&&"solana"in window},{id:"solflare",name:"Solflare",icon:"ðŸ”¥",description:"Feature-rich wallet with web and mobile support",mobile:!0,installed:typeof window<"u"&&"solflare"in window},{id:"backpack",name:"Backpack",icon:"ðŸŽ’",description:"Modern wallet with advanced features",mobile:!1,installed:typeof window<"u"&&"backpack"in window}],D=async s=>{const t=a.find(z=>z.id===s);if(!(t!=null&&t.installed)){window.open(B(s),"_blank");return}S(s),p("connecting");let r=0;const P=setInterval(()=>{r+=20,A(r),r>=100&&(clearInterval(P),setTimeout(()=>{p("success"),W(s)},500))},300)},B=s=>({phantom:"https://phantom.app/download",solflare:"https://solflare.com/download",backpack:"https://backpack.app/download"})[s],f=typeof window<"u"&&window.innerWidth<768;return u==="connecting"?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(l,{className:"w-full max-w-md",children:[e.jsxs(o,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-electric-blue/10 flex items-center justify-center mb-4",children:e.jsx(g,{className:"h-8 w-8 text-electric-blue animate-pulse"})}),e.jsx(m,{children:"Connecting Wallet"}),e.jsxs(x,{children:["Connecting to ",(w=a.find(s=>s.id===j))==null?void 0:w.name,"..."]})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsx(F,{value:n,className:"w-full"}),e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[n<40&&"Detecting wallet...",n>=40&&n<70&&"Requesting permission...",n>=70&&n<100&&"Establishing connection...",n>=100&&"Connected successfully!"]})]})]})}):u==="success"?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(l,{className:"w-full max-w-md",children:[e.jsxs(o,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-electric-green/10 flex items-center justify-center mb-4",children:e.jsx(b,{className:"h-8 w-8 text-electric-green"})}),e.jsx(m,{children:"Wallet Connected!"}),e.jsxs(x,{children:["Your ",(N=a.find(s=>s.id===j))==null?void 0:N.name," wallet is now connected"]})]}),e.jsx(c,{children:e.jsxs(h,{onClick:i,className:"w-full",children:["Continue to Dashboard ",e.jsx(M,{className:"ml-2 h-4 w-4"})]})})]})}):e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(l,{className:"w-full max-w-lg",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Connect Your Wallet"]}),e.jsx(x,{children:"Choose a wallet to connect to Flutterbye. All transactions are secure and encrypted."})]}),e.jsxs(c,{className:"space-y-4",children:[f&&e.jsxs(v,{children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(C,{children:"For the best mobile experience, we recommend using Phantom or Solflare mobile apps."})]}),e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsx(l,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${s.recommended?"ring-2 ring-electric-blue/20":""}`,onClick:()=>D(s.id),children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:s.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.recommended&&e.jsx(y,{variant:"default",className:"text-xs",children:"Recommended"}),s.mobile&&f&&e.jsx(y,{variant:"outline",className:"text-xs",children:"Mobile"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.installed?e.jsx(b,{className:"h-5 w-5 text-electric-green"}):e.jsx(Y,{className:"h-5 w-5 text-muted-foreground"})})]})})},s.id))}),e.jsxs(v,{children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx(C,{children:"Your wallet connection is secure. Flutterbye never stores your private keys or seed phrases."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"With a connected wallet you can:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"}),"Create valuable tokens"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),"Trade instantly"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3"}),"Connect with others"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-3 w-3"}),"Secure transactions"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(h,{variant:"outline",onClick:i,className:"flex-1",children:"Cancel"}),e.jsx(h,{variant:"ghost",className:"flex-1 text-muted-foreground",onClick:()=>{i()},children:"Continue as Guest"})]})]})]})})}export{H as WalletConnectionWizard};

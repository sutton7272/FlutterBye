import{r,b as K,d as i,j as e,C as l,a as c,a8 as q,W as B,e as o,f as m,a6 as _,aG as E,aL as I,aM as R,I as j,h as n,bv as Y,bQ as W,az as G,B as C,aA as $,am as d}from"./index-CeACcdR0.js";import{U as H}from"./user-check-B1MM78Ob.js";import{K as S}from"./key-I2paB0_o.js";function se(){const[p,L]=r.useState(""),[M,z]=r.useState(""),[g,X]=r.useState(!1),[x,N]=r.useState(""),[u,T]=r.useState(""),[b,P]=r.useState(["FLBY-EARLY-001","FLBY-EARLY-002"]),[f,U]=r.useState(["admin@flutterbye.com","beta@flutterbye.com"]),{toast:t}=K(),h={entries:[{id:"1",email:"user1@example.com",walletAddress:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",joinedAt:"2024-02-01T10:00:00Z",earlyAccessGranted:!0,airdropEligible:!0},{id:"2",email:"user2@example.com",joinedAt:"2024-02-01T11:30:00Z",earlyAccessGranted:!1,airdropEligible:!0}],stats:{totalSignups:247,earlyAccessUsers:15,airdropEligible:189}},O=[{id:"1",email:"user1@example.com",walletAddress:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",accessCode:"FLBY-EARLY-001",grantedAt:"2024-02-01T12:00:00Z",lastLogin:"2024-02-02T09:15:00Z"}],D=i({mutationFn:async s=>(await d("POST","/api/admin/early-access/grant",{entryId:s})).json(),onSuccess:()=>{t({title:"Early Access Granted",description:"User has been granted early access to Flutterbye."})},onError:()=>{t({title:"Demo Mode",description:"Early access management ready for launch.",variant:"destructive"})}}),y=i({mutationFn:async()=>(await d("POST","/api/admin/early-access/add",{email:p,walletAddress:M})).json(),onSuccess:()=>{L(""),z(""),t({title:"User Added",description:"Early access user has been added successfully."})},onError:()=>{t({title:"Demo Mode",description:"Early access user management ready for launch.",variant:"destructive"})}}),Z=i({mutationFn:async s=>(await d("POST","/api/admin/launch-mode",{enabled:s})).json(),onSuccess:(s,a)=>{X(a),t({title:a?"Launch Mode Enabled":"Launch Mode Disabled",description:a?"Platform is now publicly accessible":"Platform restricted to early access users only"})},onError:()=>{t({title:"Demo Mode",description:"Launch mode controls ready for deployment.",variant:"destructive"})}}),v=i({mutationFn:async s=>(await d("POST","/api/admin/access-codes",{code:s})).json(),onSuccess:()=>{P([...b,x]),N(""),t({title:"Access Code Added",description:"New access code has been created successfully."})},onError:()=>{t({title:"Demo Mode",description:"Access code management ready for deployment.",variant:"destructive"})}}),F=i({mutationFn:async s=>(await d("DELETE","/api/admin/access-codes",{code:s})).json(),onSuccess:(s,a)=>{P(b.filter(w=>w!==a)),t({title:"Access Code Removed",description:"Access code has been deleted successfully."})},onError:()=>{t({title:"Demo Mode",description:"Access code management ready for deployment.",variant:"destructive"})}}),A=i({mutationFn:async s=>(await d("POST","/api/admin/authorized-emails",{email:s})).json(),onSuccess:()=>{U([...f,u]),T(""),t({title:"Email Authorized",description:"Email address has been added to authorized list."})},onError:()=>{t({title:"Demo Mode",description:"Email authorization management ready for deployment.",variant:"destructive"})}}),k=i({mutationFn:async s=>(await d("DELETE","/api/admin/authorized-emails",{email:s})).json(),onSuccess:(s,a)=>{U(f.filter(w=>w!==a)),t({title:"Email Removed",description:"Email address has been removed from authorized list."})},onError:()=>{t({title:"Demo Mode",description:"Email authorization management ready for deployment.",variant:"destructive"})}}),J=()=>{const s=`FLBY-EARLY-${Math.random().toString(36).substr(2,6).toUpperCase()}`;N(s)};return e.jsx("div",{className:"min-h-screen text-white relative overflow-hidden",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Early Access Management"})}),e.jsx("p",{className:"text-xl text-gray-400",children:"Manage waitlist, early access users, and launch controls"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsx(l,{className:"electric-frame",children:e.jsxs(c,{className:"p-4 text-center",children:[e.jsx(q,{className:"w-6 h-6 mx-auto mb-2 text-blue-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Signups"}),e.jsx("p",{className:"text-xl font-bold",children:h.stats.totalSignups})]})}),e.jsx(l,{className:"electric-frame",children:e.jsxs(c,{className:"p-4 text-center",children:[e.jsx(H,{className:"w-6 h-6 mx-auto mb-2 text-green-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Early Access Users"}),e.jsx("p",{className:"text-xl font-bold",children:h.stats.earlyAccessUsers})]})}),e.jsx(l,{className:"electric-frame",children:e.jsxs(c,{className:"p-4 text-center",children:[e.jsx(B,{className:"w-6 h-6 mx-auto mb-2 text-purple-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Airdrop Eligible"}),e.jsx("p",{className:"text-xl font-bold",children:h.stats.airdropEligible})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{className:"electric-frame",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-gradient",children:[e.jsx(_,{className:"w-5 h-5"}),"Launch Controls"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"launch-mode",className:"text-base font-medium",children:"Public Launch Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable public access to the platform"})]}),e.jsx(I,{id:"launch-mode",checked:g,onCheckedChange:s=>Z.mutate(s)})]}),e.jsx("div",{className:`p-3 rounded-lg border ${g?"bg-green-500/10 border-green-500/20":"bg-yellow-500/10 border-yellow-500/20"}`,children:e.jsx("p",{className:"text-sm font-medium",children:g?e.jsx("span",{className:"text-green-400",children:"ðŸš€ Platform is publicly accessible"}):e.jsx("span",{className:"text-yellow-400",children:"ðŸ”’ Platform restricted to early access users only"})})})]})]}),e.jsxs(l,{className:"electric-frame",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-gradient",children:[e.jsx(R,{className:"w-5 h-5"}),"Add Early Access User"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"new-email",children:"Email Address"}),e.jsx(j,{id:"new-email",type:"email",placeholder:"user@example.com",value:p,onChange:s=>L(s.target.value),className:"bg-muted/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"new-wallet",children:"Wallet Address (Optional)"}),e.jsx(j,{id:"new-wallet",placeholder:"Solana wallet address",value:M,onChange:s=>z(s.target.value),className:"bg-muted/20"})]}),e.jsx(n,{onClick:()=>y.mutate(),disabled:!p||y.isPending,className:"w-full",children:y.isPending?"Adding...":e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Add Early Access User"]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{className:"electric-frame",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-gradient",children:[e.jsx(S,{className:"w-5 h-5"}),"Access Codes Management"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{placeholder:"FLBY-EARLY-XXX",value:x,onChange:s=>N(s.target.value),className:"bg-muted/20"}),e.jsx(n,{variant:"outline",size:"sm",onClick:J,children:"Generate"})]}),e.jsx(n,{onClick:()=>v.mutate(x),disabled:!x||v.isPending,className:"w-full",size:"sm",children:v.isPending?"Adding...":"Add Access Code"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:b.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/10 rounded border border-muted/20",children:[e.jsx("span",{className:"text-sm font-mono text-cyan-400",children:s}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>F.mutate(s),disabled:F.isPending,className:"h-6 w-6 p-0 hover:bg-red-500/20",children:e.jsx(Y,{className:"w-3 h-3 text-red-400"})})]},a))})]})]}),e.jsxs(l,{className:"electric-frame",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-gradient",children:[e.jsx(W,{className:"w-5 h-5"}),"Authorized Emails"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsx(j,{type:"email",placeholder:"user@example.com",value:u,onChange:s=>T(s.target.value),className:"bg-muted/20"}),e.jsx(n,{onClick:()=>A.mutate(u),disabled:!u||A.isPending,className:"w-full",size:"sm",children:A.isPending?"Adding...":"Authorize Email"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:f.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/10 rounded border border-muted/20",children:[e.jsx("span",{className:"text-sm text-blue-400",children:s}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>k.mutate(s),disabled:k.isPending,className:"h-6 w-6 p-0 hover:bg-red-500/20",children:e.jsx(Y,{className:"w-3 h-3 text-red-400"})})]},a))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{className:"electric-frame",children:[e.jsx(o,{children:e.jsx(m,{className:"text-gradient",children:"Waitlist Entries"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.entries.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/10 rounded-lg border border-muted/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(W,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm font-medium",children:s.email})]}),s.walletAddress&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(B,{className:"w-4 h-4 text-purple-400"}),e.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:[s.walletAddress.slice(0,8),"...",s.walletAddress.slice(-8)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.joinedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.earlyAccessGranted?e.jsxs(C,{variant:"secondary",className:"bg-green-500/20 text-green-400",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"Early Access"]}):e.jsxs(n,{size:"sm",onClick:()=>D.mutate(s.id),disabled:D.isPending,children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Grant Access"]}),s.airdropEligible&&e.jsx(C,{variant:"secondary",className:"bg-purple-500/20 text-purple-400",children:"Airdrop Eligible"})]})]},s.id))})})]}),e.jsxs(l,{className:"electric-frame",children:[e.jsx(o,{children:e.jsx(m,{className:"text-gradient",children:"Active Early Access Users"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:O.map(s=>e.jsxs("div",{className:"p-3 bg-green-500/10 rounded-lg border border-green-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:s.email}),e.jsx(C,{variant:"secondary",className:"bg-green-500/20 text-green-400",children:"Active"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(S,{className:"w-3 h-3 text-cyan-400"}),e.jsx("span",{className:"text-xs font-mono text-cyan-400",children:s.accessCode})]}),s.lastLogin&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-3 h-3 text-muted-foreground"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last login: ",new Date(s.lastLogin).toLocaleDateString()]})]})]},s.id))})})]})]})]})]})})}export{se as default};

import{b as ie,aT as le,r as l,d,c as M,j as e,bW as v,T as ce,i as re,k as f,q as K,M as E,ai as k,a$ as de,n as b,C as a,a as n,aA as oe,Y as W,B as o,e as u,f as h,o as me,ax as $,az as xe,g as y,aG as j,s as Q,t as V,v as G,w as U,x as i,I as Y,h as p,E as ue,Z as he,ad as je,ac as pe,a7 as ge,aC as Ne,am as m}from"./index-CeACcdR0.js";import{C as ve}from"./camera-CtxdWda8.js";function Se(){var _,q,L,O,H;const{toast:c}=ie(),R=le(),[x,Z]=l.useState(!1),[r,F]=l.useState(!1),[g,J]=l.useState(4),[S,X]=l.useState("feature"),[w,D]=l.useState("/dashboard"),[C,ee]=l.useState(""),[N,se]=l.useState(""),P=d({mutationFn:async()=>await m("/api/social/initialize","POST",{baseUrl:window.location.origin}),onSuccess:()=>{Z(!0),c({title:"Bot Initialized",description:"Social media bot is ready to use"})},onError:s=>{c({title:"Initialization Failed",description:s.message,variant:"destructive"})}}),T=d({mutationFn:async s=>await m("/api/social/post","POST",s),onSuccess:s=>{R.invalidateQueries({queryKey:["/api/social/posts"]}),R.invalidateQueries({queryKey:["/api/social/dashboard"]}),c({title:"Post Created",description:`Successfully ${s.post.status==="posted"?"posted to":"created"} social media`})},onError:s=>{c({title:"Post Failed",description:s.message,variant:"destructive"})}}),z=d({mutationFn:async()=>await m("/api/social/start-automation","POST",{intervalHours:g}),onSuccess:()=>{F(!0),c({title:"Automation Started",description:`Bot will post every ${g} hours`})}}),B=d({mutationFn:async()=>await m("/api/social/stop-automation","POST"),onSuccess:()=>{F(!1),c({title:"Automation Stopped",description:"Social media automation has been paused"})}}),A=d({mutationFn:async s=>await m("/api/social/preview","POST",s),onSuccess:s=>{se(s.preview.content)}}),I=d({mutationFn:async s=>await m("/api/social/screenshot","POST",s),onSuccess:s=>{c({title:"Screenshot Captured",description:"Screenshot ready for social media post"})}}),{data:t,isLoading:fe}=M({queryKey:["/api/social/dashboard"],enabled:x});M({queryKey:["/api/social/posts"],enabled:x}),l.useEffect(()=>{!x&&!P.isPending&&P.mutate()},[]);const te=()=>{T.mutate({contentType:S,screenshotPage:w||void 0,screenshotSelector:C||void 0})},ae=()=>{A.mutate({contentType:S,platform:"twitter"})},ne=()=>{I.mutate({page:w||"/",selector:C||void 0})};return!x&&P.isPending?e.jsx("div",{className:"min-h-screen pt-16 pb-8 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(v,{className:"mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Initializing Social Media Bot"}),e.jsx("p",{className:"text-muted-foreground",children:"Setting up automation system..."})]})}):e.jsx("div",{className:"min-h-screen pt-16 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-gradient",children:"Flutterbye Social Media Bot"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Automated content creation and posting for Twitter, LinkedIn, and Instagram"})]}),e.jsxs(ce,{defaultValue:"dashboard",className:"space-y-6",children:[e.jsxs(re,{className:"grid w-full grid-cols-4 bg-slate-800/50",children:[e.jsxs(f,{value:"dashboard",className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4"}),"Dashboard"]}),e.jsxs(f,{value:"create",className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Create Post"]}),e.jsxs(f,{value:"automation",className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Automation"]}),e.jsxs(f,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),"Settings"]})]}),e.jsxs(b,{value:"dashboard",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(a,{className:"premium-card",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Posts"}),e.jsx("p",{className:"text-3xl font-bold text-electric-blue",children:((_=t==null?void 0:t.dashboard)==null?void 0:_.totalPosts)||0})]}),e.jsx(E,{className:"w-8 h-8 text-electric-blue"})]})})}),e.jsx(a,{className:"premium-card",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Successful"}),e.jsx("p",{className:"text-3xl font-bold text-green-500",children:((q=t==null?void 0:t.dashboard)==null?void 0:q.successfulPosts)||0})]}),e.jsx(oe,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(a,{className:"premium-card",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement"}),e.jsx("p",{className:"text-3xl font-bold text-purple-500",children:((L=t==null?void 0:t.dashboard)==null?void 0:L.totalEngagement)||0})]}),e.jsx(W,{className:"w-8 h-8 text-purple-500"})]})})}),e.jsx(a,{className:"premium-card",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx("p",{className:"text-lg font-semibold",children:e.jsx(o,{className:r?"bg-green-600":"bg-gray-600",children:r?"Running":"Stopped"})})]}),e.jsx(k,{className:`w-8 h-8 ${r?"text-green-500":"text-gray-500"}`})]})})})]}),e.jsxs(a,{className:"premium-card",children:[e.jsx(u,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Recent Posts"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:((H=(O=t==null?void 0:t.dashboard)==null?void 0:O.recentPosts)==null?void 0:H.map(s=>e.jsxs("div",{className:"flex items-start justify-between p-4 bg-slate-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:[s.content.substring(0,100),"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3"}),s.platform]}),s.postedAt&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"}),new Date(s.postedAt).toLocaleString()]})]})]}),e.jsx(o,{variant:s.status==="posted"?"default":s.status==="failed"?"destructive":"secondary",children:s.status})]},s.id)))||e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No posts yet. Create your first automated post!"})})})]})]}),e.jsx(b,{value:"create",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{className:"premium-card",children:[e.jsxs(u,{children:[e.jsx(h,{children:"Create Social Media Post"}),e.jsx(y,{children:"Generate and post content automatically to your social media accounts"})]}),e.jsxs(n,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Content Type"}),e.jsxs(Q,{value:S,onValueChange:X,children:[e.jsx(V,{"data-testid":"select-content-type",children:e.jsx(G,{})}),e.jsxs(U,{children:[e.jsx(i,{value:"feature",children:"Feature Highlight"}),e.jsx(i,{value:"stats",children:"Platform Statistics"}),e.jsx(i,{value:"engagement",children:"Community Engagement"}),e.jsx(i,{value:"announcement",children:"Major Announcement"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Screenshot Page"}),e.jsxs(Q,{value:w,onValueChange:D,children:[e.jsx(V,{"data-testid":"select-screenshot-page",children:e.jsx(G,{})}),e.jsxs(U,{children:[e.jsx(i,{value:"/",children:"Home Page"}),e.jsx(i,{value:"/dashboard",children:"Dashboard"}),e.jsx(i,{value:"/create",children:"Create Tokens"}),e.jsx(i,{value:"/ai-intelligence",children:"AI Intelligence"}),e.jsx(i,{value:"/admin",children:"Admin Panel"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"CSS Selector (Optional)"}),e.jsx(Y,{"data-testid":"input-css-selector",value:C,onChange:s=>ee(s.target.value),placeholder:".main-content, .premium-card"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to capture full page"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{onClick:ae,disabled:A.isPending,variant:"outline",className:"flex-1","data-testid":"button-preview",children:[A.isPending?e.jsx(v,{className:"mr-2"}):e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Preview"]}),e.jsxs(p,{onClick:ne,disabled:I.isPending,variant:"outline",className:"flex-1","data-testid":"button-screenshot",children:[I.isPending?e.jsx(v,{className:"mr-2"}):e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Screenshot"]})]}),e.jsxs(p,{onClick:te,disabled:T.isPending||!x,className:"w-full bg-gradient-to-r from-electric-blue to-circuit-teal","data-testid":"button-create-post",children:[T.isPending?e.jsx(v,{className:"mr-2"}):e.jsx(he,{className:"w-4 h-4 mr-2"}),"Create & Post"]})]})]}),e.jsxs(a,{className:"premium-card",children:[e.jsxs(u,{children:[e.jsx(h,{children:"Content Preview"}),e.jsx(y,{children:"Preview generated content before posting"})]}),e.jsx(n,{children:N?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-slate-800/50 rounded-lg border",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm",children:N})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Character count: ",N.length,"/280"]}),e.jsx(o,{variant:N.length>280?"destructive":"secondary",children:"Twitter"})]})]}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(E,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:'Click "Preview" to generate content preview'})]})})]})]})}),e.jsx(b,{value:"automation",className:"space-y-6",children:e.jsxs(a,{className:"premium-card",children:[e.jsxs(u,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),"Automation Settings"]}),e.jsx(y,{children:"Configure automated posting schedule and content preferences"})]}),e.jsxs(n,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Auto-posting Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?`Posts every ${g} hours`:"Automation is paused"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:r?"bg-green-600":"bg-gray-600",children:r?"Active":"Inactive"}),r?e.jsxs(p,{onClick:()=>B.mutate(),disabled:B.isPending,variant:"outline",size:"sm","data-testid":"button-stop-automation",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Stop"]}):e.jsxs(p,{onClick:()=>z.mutate(),disabled:z.isPending,size:"sm",className:"bg-green-600 hover:bg-green-700","data-testid":"button-start-automation",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Start"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Posting Interval (Hours)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{type:"number",min:"1",max:"24",value:g,onChange:s=>J(parseInt(s.target.value)||4),className:"w-20","data-testid":"input-interval-hours"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"hours between posts"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{children:"Content Preferences"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"feature",label:"Feature Highlights",icon:ge},{id:"stats",label:"Platform Stats",icon:K},{id:"engagement",label:"Community Posts",icon:W},{id:"announcement",label:"Announcements",icon:Ne}].map(s=>e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-slate-800/50 rounded-lg",children:[e.jsx(s.icon,{className:"w-4 h-4 text-electric-blue"}),e.jsx("span",{className:"text-sm",children:s.label})]},s.id))})]})]})]})}),e.jsx(b,{value:"settings",className:"space-y-6",children:e.jsxs(a,{className:"premium-card",children:[e.jsxs(u,{children:[e.jsx(h,{children:"Social Media Configuration"}),e.jsx(y,{children:"Connect your social media accounts and configure posting preferences"})]}),e.jsxs(n,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Connected Accounts"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Twitter"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"@flutterbye_ai"})]})]}),e.jsx(o,{variant:"secondary",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"LinkedIn"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Coming Soon"})]})]}),e.jsx(o,{variant:"outline",children:"Soon"})]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"API Configuration Required"}),e.jsx("p",{className:"text-sm text-blue-200 mb-3",children:"To enable Twitter posting, configure your API keys in environment variables:"}),e.jsxs("ul",{className:"text-xs text-blue-200 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"TWITTER_API_KEY"}),e.jsx("li",{children:"TWITTER_API_SECRET"}),e.jsx("li",{children:"TWITTER_ACCESS_TOKEN"}),e.jsx("li",{children:"TWITTER_ACCESS_TOKEN_SECRET"})]})]})]})]})})]})]})})}export{Se as default};

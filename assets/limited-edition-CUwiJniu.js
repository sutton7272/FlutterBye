import{r as g,b as T,aT as M,c as F,d as h,j as e,$ as p,as as D,bk as L,h as l,aM as u,at as q,au as I,av as O,bs as W,aG as a,I as r,aH as B,s as j,t as y,v as b,w as N,x as s,C as R,e as V,f as Q,B as Y,g as $,m as H,a as A,ab as K,l as z,a8 as G,am as f}from"./index-CeACcdR0.js";import{ContextualChatButton as J}from"./contextual-chat-button-D06a_IjS.js";function Z(){const[v,n]=g.useState(!1);g.useState(null);const{toast:c}=T(),m=M(),{data:x=[],isLoading:E}=F({queryKey:["/api/limited-edition-sets"]}),d=h({mutationFn:async t=>f("/api/limited-edition-sets","POST",t),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/limited-edition-sets"]}),n(!1),c({title:"Limited Edition Set Created",description:"Your limited edition set has been created successfully!"})},onError:t=>{c({title:"Error",description:t.message||"Failed to create limited edition set",variant:"destructive"})}}),o=h({mutationFn:async({setId:t,walletAddress:i})=>f(`/api/limited-edition-sets/${t}/mint`,"POST",{walletAddress:i}),onSuccess:t=>{m.invalidateQueries({queryKey:["/api/limited-edition-sets"]}),c({title:"Limited Edition Minted!",description:`Successfully minted edition #${t.editionNumber||"N/A"}. ${t.remainingEditions||0} editions remaining.`})},onError:t=>{c({title:"Minting Failed",description:t.message||"Failed to mint limited edition",variant:"destructive"})}}),w=t=>{t.preventDefault();const i=new FormData(t.currentTarget),k={name:i.get("name"),description:i.get("description"),baseMessage:i.get("baseMessage"),totalEditions:parseInt(i.get("totalEditions")),pricePerEdition:i.get("pricePerEdition"),category:i.get("category"),rarityTier:i.get("rarityTier"),editionPrefix:i.get("editionPrefix")||"#",maxPurchasePerWallet:parseInt(i.get("maxPurchasePerWallet"))||1,creatorId:"mock-user-id"};d.mutate(k)},P=t=>{o.mutate({setId:t,walletAddress:"4xY2D8F3nQ9sM1pR6tZ5bV7wX0aH8cJ2kL4mN7oP9qS3uT"})},C=t=>({common:"bg-gradient-to-r from-gray-500 to-gray-600",rare:"bg-gradient-to-r from-blue-600 to-blue-500",epic:"bg-gradient-to-r from-cyber-purple to-neon-pink",legendary:"bg-gradient-to-r from-green-600 to-green-500"})[t]||"bg-gradient-to-r from-blue-600 to-green-600",S=(t,i)=>t/i*100;return E?e.jsx("div",{className:"min-h-screen gradient-bg text-white p-6 pt-24",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-electric-cyan"})})})}):e.jsx("div",{className:"min-h-screen gradient-bg text-white p-6 pt-24",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"h-16 w-16 text-electric-cyan flutter-animate pulse-electric"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-electric-cyan to-electric-green opacity-20 rounded-full blur-2xl"})]})}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 bg-gradient-to-r from-electric-cyan via-cyber-purple to-neon-pink bg-clip-text text-transparent neon-text",children:"LIMITED EDITION"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap mb-4",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-electric-blue to-electric-green bg-clip-text text-transparent",children:"Exclusive Token Collections"}),e.jsx(J,{context:"flutterart"})]}),e.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Create exclusive token collections with predetermined quantities, special pricing, and unique rarity tiers"}),e.jsxs(D,{open:v,onOpenChange:n,children:[e.jsx(L,{asChild:!0,children:e.jsxs(l,{size:"lg",className:"bg-gradient-to-r from-cyber-purple to-neon-pink hover:from-purple-500 hover:to-pink-500 text-white font-bold py-6 px-12 rounded-2xl text-xl cyber-glow pulse-electric",children:[e.jsx(u,{className:"mr-3 h-6 w-6"}),"Create Your First Set"]})}),e.jsxs(q,{className:"glassmorphism border-electric-cyan/30 text-white max-w-2xl",children:[e.jsxs(I,{children:[e.jsx(O,{children:"Create Limited Edition Set"}),e.jsx(W,{children:"Set up a new limited edition token collection with predetermined quantity."})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"name",children:"Collection Name"}),e.jsx(r,{id:"name",name:"name",placeholder:"Epic Flutterbye Collection",className:"bg-gray-800 border-gray-600",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"totalEditions",children:"Total Editions"}),e.jsx(r,{id:"totalEditions",name:"totalEditions",type:"number",min:"1",max:"10000",placeholder:"100",className:"bg-gray-800 border-gray-600",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",name:"description",placeholder:"A special collection of limited edition tokens...",className:"bg-gray-800 border-gray-600",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"baseMessage",children:"Base Message"}),e.jsx(r,{id:"baseMessage",name:"baseMessage",placeholder:"Epic Butterfly",maxLength:20,className:"bg-gray-800 border-gray-600",required:!0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Max 20 chars (leaves room for edition #)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"editionPrefix",children:"Edition Prefix"}),e.jsx(r,{id:"editionPrefix",name:"editionPrefix",placeholder:"#",maxLength:3,className:"bg-gray-800 border-gray-600",defaultValue:"#"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"pricePerEdition",children:"Price Per Edition (SOL)"}),e.jsx(r,{id:"pricePerEdition",name:"pricePerEdition",placeholder:"0.1",step:"0.001",className:"bg-gray-800 border-gray-600",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"rarityTier",children:"Rarity Tier"}),e.jsxs(j,{name:"rarityTier",defaultValue:"rare",children:[e.jsx(y,{className:"bg-gray-800 border-gray-600",children:e.jsx(b,{})}),e.jsxs(N,{className:"bg-gray-800 border-gray-600",children:[e.jsx(s,{value:"common",children:"Common"}),e.jsx(s,{value:"rare",children:"Rare"}),e.jsx(s,{value:"epic",children:"Epic"}),e.jsx(s,{value:"legendary",children:"Legendary"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"maxPurchasePerWallet",children:"Max Per Wallet"}),e.jsx(r,{id:"maxPurchasePerWallet",name:"maxPurchasePerWallet",type:"number",min:"1",max:"100",placeholder:"1",className:"bg-gray-800 border-gray-600",defaultValue:"1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"category",children:"Category"}),e.jsxs(j,{name:"category",defaultValue:"limited",children:[e.jsx(y,{className:"bg-gray-800 border-gray-600",children:e.jsx(b,{})}),e.jsxs(N,{className:"bg-gray-800 border-gray-600",children:[e.jsx(s,{value:"limited",children:"Limited Edition"}),e.jsx(s,{value:"special",children:"Special Event"}),e.jsx(s,{value:"seasonal",children:"Seasonal"}),e.jsx(s,{value:"commemorative",children:"Commemorative"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-gray-600",children:"Cancel"}),e.jsx(l,{type:"submit",disabled:d.isPending,className:"bg-gradient-to-r from-purple-600 to-pink-600",children:d.isPending?"Creating...":"Create Set"})]})]})]})]})]}),x.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx(p,{className:"h-24 w-24 text-electric-cyan mx-auto flutter-animate pulse-electric"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-electric-cyan to-electric-green opacity-20 rounded-full blur-3xl"})]}),e.jsx("h3",{className:"text-4xl font-bold text-white mb-6 bg-gradient-to-r from-electric-blue to-electric-green bg-clip-text text-transparent",children:"No Limited Edition Sets Yet"}),e.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Create your first limited edition set to start building exclusive token collections with predetermined quantities and special pricing."}),e.jsxs(l,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-cyber-purple to-neon-pink hover:from-purple-500 hover:to-pink-500 text-white font-bold py-6 px-12 rounded-2xl text-xl cyber-glow pulse-electric",children:[e.jsx(u,{className:"w-6 h-6 mr-3"}),"Create Your First Set"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(t=>e.jsxs(R,{className:"glassmorphism border-electric-cyan/30 hover:border-electric-green transition-all duration-500 cyber-glow token-card",children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Q,{className:"text-white flex items-center gap-2",children:[t.name,e.jsx(Y,{className:`${C(t.rarityTier)} text-white text-xs`,children:t.rarityTier})]}),e.jsx($,{className:"text-gray-400",children:t.description})]}),e.jsx(H,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Minted Progress"}),e.jsxs("span",{className:"text-white",children:[t.mintedEditions,"/",t.totalEditions]})]}),e.jsx(K,{value:S(t.mintedEditions,t.totalEditions),className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(z,{className:"w-4 h-4"}),t.pricePerEdition," SOL"]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(G,{className:"w-4 h-4"}),"Max ",t.maxPurchasePerWallet,"/wallet"]})]}),e.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Example Token Name:"}),e.jsxs("p",{className:"text-white font-mono",children:[t.baseMessage," ",t.editionPrefix,t.mintedEditions+1]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(l,{onClick:()=>P(t.id),disabled:t.mintedEditions>=t.totalEditions||o.isPending,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:t.mintedEditions>=t.totalEditions?"Sold Out":o.isPending?"Minting...":"Mint Edition"})})]})]},t.id))})]})})}export{Z as default};

import{b as M,r as d,j as e,T as U,i as Y,k as T,ai as C,a$ as V,n as k,as as J,bk as R,h as c,aM as G,at as H,au as W,av as z,aG as o,I as p,s as _,t as B,v as S,w as F,x as i,C as g,a as x,B as Q,p as X,ad as Z,ac as ee,bv as te,e as A,f as P}from"./index-CeACcdR0.js";import{T as se}from"./test-tube-CTtbwcQJ.js";function ne(){const{toast:a}=M(),[v,y]=d.useState([]),[I,j]=d.useState(!1),[w,b]=d.useState(!1),[n,h]=d.useState({twitter_api_key:"",twitter_api_secret:"",twitter_access_token:"",twitter_access_token_secret:""}),[l,m]=d.useState({name:"",platform:"Twitter",postingFrequency:"8",status:"inactive",contentType:"FlutterBye Updates",targetAudience:"Crypto enthusiasts"});d.useEffect(()=>{f(),E()},[]);const f=async()=>{try{const t=await fetch("/api/social/bots");if(t.ok){const s=await t.json();y(Array.isArray(s)?s:[])}}catch(t){console.error("Failed to fetch bots:",t)}},E=async()=>{try{const t=await fetch("/api/social/api-keys");if(t.ok){const s=await t.json();h(s)}}catch(t){console.error("Failed to fetch API keys:",t)}},q=async()=>{try{const t=await fetch("/api/social/bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(t.ok){const s=await t.json();y(u=>[...u,s]),m({name:"",platform:"Twitter",postingFrequency:"8",status:"inactive",contentType:"FlutterBye Updates",targetAudience:"Crypto enthusiasts"}),j(!1),a({title:"Bot Created Successfully!",description:`${s.name} is ready for activation`,className:"bg-green-900 border-green-500 text-white"})}}catch{a({title:"Failed to create bot",variant:"destructive"})}},$=async t=>{try{const s=await fetch(`/api/social/bots/${t}/toggle`,{method:"POST"});if(s.ok){const r=(await s.json()).bot;if((r==null?void 0:r.status)==="running"){const N=parseInt(r.postingFrequency)||4,L=Math.floor(24/N);a({title:"Bot Started Successfully! ðŸš€",description:`${r.name} posted immediately and will continue posting ${N} times/day (every ${L} hours) with AI-generated FlutterBye content`,className:"bg-green-900 border-green-500 text-white",duration:8e3})}else(r==null?void 0:r.status)==="inactive"&&a({title:"Bot Stopped",description:`${r.name} has been deactivated`,className:"bg-yellow-900 border-yellow-500 text-white"});f()}}catch{a({title:"Bot toggle failed",variant:"destructive"})}},D=async t=>{try{(await fetch(`/api/social/bots/${t}`,{method:"DELETE"})).ok&&(y(u=>u.filter(r=>r.id!==t)),a({title:"Bot deleted successfully"}))}catch{a({title:"Failed to delete bot",variant:"destructive"})}},O=async()=>{b(!0);try{const t=await fetch("/api/social/test-tweet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:"ðŸš€ Testing FlutterBye social automation system! AI-powered engagement for the future of Web3 communication. #FlutterBye #SocialAutomation"})}),s=await t.json();t.ok&&s.success?a({title:"âœ… Tweet Posted Successfully!",description:`Tweet ID: ${s.tweetId}`,className:"bg-green-900 border-green-500 text-white",duration:6e3}):a({title:"Tweet Failed",description:s.message||"Unknown error",variant:"destructive",duration:5e3})}catch{a({title:"Test Failed",description:"Could not test tweet posting",variant:"destructive"})}finally{b(!1)}},K=async()=>{try{(await fetch("/api/social/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok&&a({title:"API keys saved successfully!"})}catch{a({title:"Error saving API keys",variant:"destructive"})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"ðŸ¤– Social Media Automation Command Center"}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Revolutionary viral marketing system with AI-powered engagement amplification"})]}),e.jsxs(U,{defaultValue:"bots",className:"space-y-8",children:[e.jsxs(Y,{className:"grid w-full grid-cols-2 bg-slate-800 border-purple-500/30",children:[e.jsxs(T,{value:"bots",className:"text-white data-[state=active]:bg-purple-600",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Bot Management & Control"]}),e.jsxs(T,{value:"settings",className:"text-white data-[state=active]:bg-purple-600",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Twitter API Testing"]})]}),e.jsxs(k,{value:"bots",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Engagement Bots"}),e.jsxs(J,{open:I,onOpenChange:j,children:[e.jsx(R,{asChild:!0,children:e.jsxs(c,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Create Engagement Bot"]})}),e.jsxs(H,{className:"bg-slate-800 border-purple-500/30",children:[e.jsx(W,{children:e.jsx(z,{className:"text-purple-400",children:"Create New Engagement Bot"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"botName",children:"Bot Name"}),e.jsx(p,{id:"botName",placeholder:"e.g., Flutterbye Growth Bot",value:l.name,onChange:t=>m({...l,name:t.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"postingFrequency",children:"Posting Frequency"}),e.jsxs(_,{value:l.postingFrequency,onValueChange:t=>m({...l,postingFrequency:t}),children:[e.jsx(B,{className:"bg-slate-700 border-slate-600",children:e.jsx(S,{})}),e.jsxs(F,{children:[e.jsx(i,{value:"2",children:"2 posts/day (every 12 hours)"}),e.jsx(i,{value:"4",children:"4 posts/day (every 6 hours)"}),e.jsx(i,{value:"6",children:"6 posts/day (every 4 hours)"}),e.jsx(i,{value:"8",children:"8 posts/day (every 3 hours)"}),e.jsx(i,{value:"12",children:"12 posts/day (every 2 hours)"})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"contentType",children:"Content Focus"}),e.jsxs(_,{value:l.contentType,onValueChange:t=>m({...l,contentType:t}),children:[e.jsx(B,{className:"bg-slate-700 border-slate-600",children:e.jsx(S,{})}),e.jsxs(F,{children:[e.jsx(i,{value:"FlutterBye Updates",children:"FlutterBye Platform Updates"}),e.jsx(i,{value:"Crypto News",children:"Crypto & Web3 News"}),e.jsx(i,{value:"Engagement",children:"Community Engagement"}),e.jsx(i,{value:"Educational",children:"Educational Content"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(c,{onClick:q,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Create Bot"}),e.jsx(c,{variant:"outline",onClick:()=>j(!1),children:"Cancel"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-6",children:v.length===0?e.jsx(g,{className:"bg-slate-800/50 border-slate-700",children:e.jsxs(x,{className:"p-8 text-center",children:[e.jsx(C,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Bots Created Yet"}),e.jsx("p",{className:"text-slate-400",children:"Create your first engagement bot to start automated posting"})]})}):v.map(t=>e.jsx(g,{className:"bg-slate-800/50 border-purple-500/30",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-semibold text-white",children:t.name}),e.jsx(Q,{variant:t.status==="running"?"default":"secondary",className:t.status==="running"?"bg-green-600":"bg-slate-600",children:t.status==="running"?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Running"]}):"Inactive"})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[e.jsxs("p",{className:"text-sm text-slate-300 mb-2",children:[e.jsx("strong",{children:"Posting Schedule:"})," ",t.postingFrequency||4," posts/day",(()=>{const s=parseInt(t.postingFrequency)||4;return` (every ${Math.floor(24/s)} hours)`})()]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Platform: ",t.platform," | Content: ",t.contentType]})]})})]}),e.jsxs("div",{className:"flex gap-2 ml-6",children:[e.jsx(c,{onClick:()=>$(t.id),className:t.status==="running"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:t.status==="running"?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Stop Bot"]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Start Bot & Post Now"]})}),e.jsx(c,{variant:"outline",onClick:()=>D(t.id),className:"border-red-500 text-red-400 hover:bg-red-950",children:e.jsx(te,{className:"w-4 h-4"})})]})]})})},t.id))})]}),e.jsxs(k,{value:"settings",className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Twitter API Configuration & Testing"}),e.jsxs(g,{className:"bg-slate-800/50 border-purple-500/30",children:[e.jsx(A,{children:e.jsx(P,{className:"text-purple-400",children:"Test Twitter Connection"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsx("p",{className:"text-slate-300",children:"Test your Twitter API connection with a live post to verify everything is working correctly."}),e.jsxs(c,{onClick:O,disabled:w,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),w?"Posting...":"Test Tweet Now"]})]})]}),e.jsxs(g,{className:"bg-slate-800/50 border-purple-500/30",children:[e.jsx(A,{children:e.jsx(P,{className:"text-purple-400",children:"API Configuration"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"api_key",children:"API Key"}),e.jsx(p,{id:"api_key",type:"password",value:n.twitter_api_key,onChange:t=>h({...n,twitter_api_key:t.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"Your Twitter API Key"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"api_secret",children:"API Secret"}),e.jsx(p,{id:"api_secret",type:"password",value:n.twitter_api_secret,onChange:t=>h({...n,twitter_api_secret:t.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"Your Twitter API Secret"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"access_token",children:"Access Token"}),e.jsx(p,{id:"access_token",type:"password",value:n.twitter_access_token,onChange:t=>h({...n,twitter_access_token:t.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"Your Access Token"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"access_token_secret",children:"Access Token Secret"}),e.jsx(p,{id:"access_token_secret",type:"password",value:n.twitter_access_token_secret,onChange:t=>h({...n,twitter_access_token_secret:t.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"Your Access Token Secret"})]})]}),e.jsx(c,{onClick:K,className:"bg-purple-600 hover:bg-purple-700",children:"Save API Configuration"})]})]})]})]})]})})}export{ne as default};

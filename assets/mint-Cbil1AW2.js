import{r,j as e,C as F,a as P,a2 as Te,e as J,f as G,ap as _,aq as ps,Y as gs,B as E,o as D,aj as ee,h as b,$ as V,a7 as te,I as q,ab as W,ar as Fe,Z as O,U as X,m as js,a8 as Q,a1 as Pe,X as bs,b as Qe,as as fs,at as Ns,au as vs,av as ys,aw as ws,ax as He,ay as ks,l as de,az as Ss,aA as se,aB as Me,aC as De,aD as me,aE as Cs,aF as Ts,d as xe,T as Ms,i as Is,k as ve,n as ye,aG as A,aH as qe,y as we,aI as Ye,aJ as Ie,aK as Je,aL as Ge,g as Ze,am as ke,c as Fs,aM as Ps}from"./index-CeACcdR0.js";import{z as he,R as As,a as Se}from"./index-9S_RUOfq.js";import{F as Ce,I as Es}from"./image-upload-BpPEYJtf.js";import{A as Vs}from"./ai-text-optimizer-BBbQL4jZ.js";import{T as $s}from"./token-holder-analysis-DoMjpV47.js";import{T as Ls}from"./confetti-celebration-B70l6zgP.js";import{T as Ke}from"./ticket-CTzgytHP.js";import{F as zs}from"./facebook-Dc0EEsQ6.js";import{C as oe}from"./calculator-CNEyQhMv.js";import"./circle-B-u7PjdT.js";const We=he.number().int().positive();he.object({totalSupply:We.min(1).max(1e6),availableSupply:he.number().int().min(0).max(1e6),quantity:We.min(1)});he.string().min(1).max(27);function Rs(o){try{const c=typeof o=="string"?parseInt(o):o;return isNaN(c)||!Number.isInteger(c)?{isValid:!1,error:"Must be a whole number"}:c<=0?{isValid:!1,error:"Must be greater than 0"}:c>1e6?{isValid:!1,error:"Cannot exceed 1,000,000 tokens"}:{isValid:!0}}catch{return{isValid:!1,error:"Invalid number format"}}}function Os({message:o,recipientCount:c=1,onValueSuggestion:i,onOptimizedMessage:u}){var a;const[t,M]=r.useState(null),[f,w]=r.useState(!1),[g,C]=r.useState([]),[N,n]=r.useState("");r.useEffect(()=>{if(o.length<3){M(null);return}const l=setTimeout(()=>{p()},500);return()=>clearTimeout(l)},[o,c]);const p=async()=>{if(o.trim()){w(!0);try{const l=await fetch("/api/ai/analyze-emotion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o,recipientCount:c})});if(l.ok){const S=await l.json();M(S),i==null||i(S.suggestedValue)}const d=await fetch("/api/ai/analyze-viral",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(d.ok){const S=await d.json();C(S.suggestions||[]),S.optimizedMessage&&n(S.optimizedMessage)}}catch(l){console.error("Error analyzing message:",l)}finally{w(!1)}}},h=l=>{switch(l){case"positive":return"text-green-400";case"negative":return"text-red-400";default:return"text-yellow-400"}},j=l=>{switch(l){case"high":return"text-red-400";case"medium":return"text-yellow-400";default:return"text-blue-400"}},k=l=>{switch(l){case"romantic":return"💕";case"celebration":return"🎉";case"apology":return"🙏";case"gratitude":return"🙏";case"encouragement":return"💪";case"friendship":return"🤝";case"business":return"💼";default:return"💭"}};return!o.trim()||o.length<3?e.jsx(F,{className:"glassmorphism border-gray-700",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-center text-gray-400 py-8",children:[e.jsx(Te,{className:"w-8 h-8 mr-2"}),e.jsx("span",{children:"Start typing to see AI emotion analysis..."})]})})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(F,{className:"glassmorphism border-gray-700",children:[e.jsx(J,{className:"pb-3",children:e.jsxs(G,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Te,{className:"w-5 h-5 text-electric-blue"}),"AI Emotion Analysis",f&&e.jsx(_.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-electric-blue border-t-transparent rounded-full"})]})}),e.jsx(P,{className:"space-y-4",children:t&&e.jsx(ps,{children:e.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4 text-pink-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Primary Emotion"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold capitalize text-electric-blue",children:t.primaryEmotion}),e.jsxs(E,{variant:"secondary",className:j(t.intensity),children:[t.intensity," intensity"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Sentiment"})]}),e.jsxs("div",{className:`text-lg font-bold capitalize ${h(t.sentiment)}`,children:[t.sentiment,e.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",Math.round((t.emotionScore??0)*100),"% confidence)"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:k(t.category)}),e.jsx("span",{className:"text-sm font-medium",children:"Category"})]}),e.jsx(E,{variant:"outline",className:"capitalize",children:t.category})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Suggested Value"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-bold text-green-400",children:[(t.suggestedValue??0).toFixed(3)," SOL"]}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>i==null?void 0:i(t.suggestedValue??0),className:"text-xs",children:"Use"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Viral Potential"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:e.jsx(_.div,{initial:{width:0},animate:{width:`${(t.viralityScore??0)*100}%`},transition:{duration:.5,delay:.2},className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-2 rounded-full"})}),e.jsxs("span",{className:"text-sm font-bold text-yellow-400",children:[Math.round((t.viralityScore??0)*100),"%"]})]})]}),(((a=t.marketingTags)==null?void 0:a.length)??0)>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Marketing Tags"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.marketingTags.map((l,d)=>e.jsxs(E,{variant:"secondary",className:"text-xs",children:["#",l]},d))})]})]})})})]}),(g.length>0||N)&&e.jsxs(F,{className:"glassmorphism border-gray-700",children:[e.jsx(J,{className:"pb-3",children:e.jsxs(G,{className:"flex items-center gap-2 text-lg",children:[e.jsx(V,{className:"w-5 h-5 text-yellow-400"}),"Viral Optimization"]})}),e.jsxs(P,{className:"space-y-4",children:[N&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-400",children:"AI Optimized Version:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{value:N,readOnly:!0,className:"bg-gray-800 border-gray-600"}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>u==null?void 0:u(N),className:"whitespace-nowrap",children:"Use This"})]})]}),g.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Improvement Suggestions:"}),e.jsx("div",{className:"space-y-1",children:g.map((l,d)=>e.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full"}),l]},d))})]})]})]})]})}function Us({message:o,recipientCount:c,valuePerToken:i,onBoostSuggestion:u}){const[t,M]=r.useState({viralityScore:0,shareability:0,memeability:0,emotionalHook:0,cryptoRelevance:0}),[f,w]=r.useState("low"),[g,C]=r.useState([]);r.useEffect(()=>{if(!o.trim()){M({viralityScore:0,shareability:0,memeability:0,emotionalHook:0,cryptoRelevance:0});return}const h=(()=>{const a=o.toLowerCase();let l=.3;(a.includes("gm")||a.includes("hodl")||a.includes("wen"))&&(l+=.2),(a.includes("moon")||a.includes("diamond")||a.includes("hands"))&&(l+=.15),a.length<=15&&(l+=.1),/[!?]{2,}/.test(o)&&(l+=.1);let d=.2;(a.includes("ser")||a.includes("fren")||a.includes("frens"))&&(d+=.2),(a.includes("chad")||a.includes("alpha")||a.includes("sigma"))&&(d+=.15),(a.includes("based")||a.includes("wagmi")||a.includes("ngmi"))&&(d+=.2),/\d+x/.test(a)&&(d+=.1);let S=.25;["love","miss","thank","sorry","congrat","proud","excited"].forEach(Y=>{a.includes(Y)&&(S+=.1)}),i>.01&&(S+=.2);let $=.1;["btc","eth","sol","doge","pump","dump","rekt","fomo","yolo"].forEach(Y=>{a.includes(Y)&&($+=.1)}),(a.includes("nft")||a.includes("defi")||a.includes("dao"))&&($+=.15);const Z=Math.min(1,(l+d+S+$)/4),U=Math.min(.2,c/1e3);return{viralityScore:Math.min(1,Z+U),shareability:Math.min(1,l),memeability:Math.min(1,d),emotionalHook:Math.min(1,S),cryptoRelevance:Math.min(1,$)}})();M(h);const j=h.viralityScore;j<.3?w("low"):j<.6?w("medium"):j<.8?w("high"):w("viral");const k=[];h.shareability<.5&&k.push("Add crypto slang like 'ser', 'fren', or 'WAGMI'"),h.memeability<.5&&k.push("Include meme references like 'diamond hands' or 'to the moon'"),h.emotionalHook<.5&&k.push("Add emotional words or increase token value"),h.cryptoRelevance<.5&&k.push("Reference popular tokens or DeFi concepts"),o.length>20&&k.push("Shorten message for better viral potential"),C(k)},[o,c,i]);const N=p=>{switch(p){case"viral":return"text-purple-400";case"high":return"text-green-400";case"medium":return"text-yellow-400";default:return"text-red-400"}},n=p=>{switch(p){case"viral":return"bg-purple-500";case"high":return"bg-green-500";case"medium":return"bg-yellow-500";default:return"bg-red-500"}};return o.trim()?e.jsxs(F,{className:"glassmorphism border-gray-700",children:[e.jsx(J,{className:"pb-3",children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-electric-blue"}),"Viral Mechanics Engine"]}),e.jsxs(E,{className:`${n(f)} text-white capitalize`,children:[f," Potential"]})]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Viral Score"}),e.jsxs("span",{className:`text-lg font-bold ${N(f)}`,children:[Math.round(t.viralityScore*100),"%"]})]}),e.jsx(W,{value:t.viralityScore*100,className:"h-3"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"text-xs font-medium",children:"Shareability"}),e.jsxs("span",{className:"text-xs text-blue-400 ml-auto",children:[Math.round(t.shareability*100),"%"]})]}),e.jsx(W,{value:t.shareability*100,className:"h-1"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{className:"text-xs font-medium",children:"Memeability"}),e.jsxs("span",{className:"text-xs text-yellow-400 ml-auto",children:[Math.round(t.memeability*100),"%"]})]}),e.jsx(W,{value:t.memeability*100,className:"h-1"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-3 h-3 text-pink-400"}),e.jsx("span",{className:"text-xs font-medium",children:"Emotional Hook"}),e.jsxs("span",{className:"text-xs text-pink-400 ml-auto",children:[Math.round(t.emotionalHook*100),"%"]})]}),e.jsx(W,{value:t.emotionalHook*100,className:"h-1"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-xs font-medium",children:"Crypto Relevance"}),e.jsxs("span",{className:"text-xs text-green-400 ml-auto",children:[Math.round(t.cryptoRelevance*100),"%"]})]}),e.jsx(W,{value:t.cryptoRelevance*100,className:"h-1"})]})]})]}),g.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Viral Boosters"})]}),e.jsx("div",{className:"space-y-2",children:g.map((p,h)=>e.jsxs(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:"flex items-center justify-between bg-gray-800 rounded-lg p-2",children:[e.jsx("span",{className:"text-xs text-gray-300",children:p}),e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>u==null?void 0:u(p),className:"text-xs h-6 px-2",children:"Apply"})]},h))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-900/20 to-pink-900/20 rounded-lg p-3 border border-purple-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm font-medium text-purple-400",children:"Viral Multiplier Active"})]}),e.jsx("p",{className:"text-xs text-gray-300",children:"High viral potential messages get boosted distribution and earn social rewards for creators and sharers."})]})]})]}):e.jsx(F,{className:"glassmorphism border-gray-700",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-center text-gray-400 py-8",children:[e.jsx(D,{className:"w-8 h-8 mr-2"}),e.jsx("span",{children:"Enter a message to see viral potential..."})]})})})}function Bs({senderWallet:o,recipientCount:c,valuePerToken:i,messageCategory:u}){const[t,M]=r.useState({influenceScore:0,reachMultiplier:1,socialProofLevel:"newcomer",viralBonus:0,networkValue:0}),[f,w]=r.useState([]);r.useEffect(()=>{const n=(()=>{let h=.3,j="newcomer";if(o){const v=Math.random()*.7+.3;h=v,v<.4?j="newcomer":v<.6?j="active":v<.8?j="influencer":v<.95?j="whale":j="legend"}const k=Math.min(3,1+h*2),a=Math.min(2,c/100),l=Math.min(1.5,i*10),d=k+a+l,y=({romantic:1.5,celebration:1.8,gratitude:1.3,encouragement:1.4,friendship:1.2,business:1,other:1}[u]||1)*h,$=(d-1)*i*c;return{influenceScore:h,reachMultiplier:d,socialProofLevel:j,viralBonus:y,networkValue:$}})();M(n);const p=[];n.influenceScore>.6&&p.push("High Influence Multiplier"),c>50&&p.push("Mass Distribution Boost"),i>.05&&p.push("High Value Amplification"),(n.socialProofLevel==="whale"||n.socialProofLevel==="legend")&&p.push("Whale Status Benefits"),w(p)},[o,c,i,u]);const g=N=>{switch(N){case"legend":return"text-purple-400 border-purple-400";case"whale":return"text-blue-400 border-blue-400";case"influencer":return"text-green-400 border-green-400";case"active":return"text-yellow-400 border-yellow-400";default:return"text-gray-400 border-gray-400"}},C=N=>{switch(N){case"legend":return"👑";case"whale":return"🐋";case"influencer":return"⭐";case"active":return"🔥";default:return"🌱"}};return e.jsxs(F,{className:"glassmorphism border-gray-700",children:[e.jsx(J,{className:"pb-3",children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-electric-blue"}),"Network Effects Engine"]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:C(t.socialProofLevel)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Social Proof Level"}),e.jsx(E,{variant:"outline",className:`capitalize ${g(t.socialProofLevel)}`,children:t.socialProofLevel})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Influence Score"}),e.jsx("p",{className:"text-lg font-bold text-electric-blue",children:Math.round(t.influenceScore*100)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Reach Multiplier"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-400",children:[t.reachMultiplier.toFixed(1),"x"]})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Your message will reach ",Math.round(c*t.reachMultiplier)," people"]})]}),t.networkValue>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Network Value Bonus"})]}),e.jsxs("span",{className:"text-lg font-bold text-purple-400",children:["+",t.networkValue.toFixed(3)," SOL"]})]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Additional value from network amplification effects"})]}),f.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Active Network Effects"})]}),e.jsx("div",{className:"grid gap-2",children:f.map((N,n)=>e.jsxs(_.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:n*.1},className:"flex items-center justify-between bg-gradient-to-r from-yellow-900/20 to-orange-900/20 rounded-lg p-2 border border-yellow-500/20",children:[e.jsx("span",{className:"text-xs font-medium text-yellow-400",children:N}),e.jsx(E,{variant:"secondary",className:"text-xs bg-yellow-500/20 text-yellow-400",children:"Active"})]},n))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-lg p-3 border border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bs,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Viral Reward System"})]}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("p",{children:"• Earn rewards when your messages go viral"}),e.jsx("p",{children:"• Higher influence = better reward multipliers"}),e.jsx("p",{children:"• Sharers earn a percentage of viral success"})]})]}),e.jsxs("div",{className:"text-center py-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Network effects increase exponentially with platform growth"}),e.jsx(b,{variant:"link",className:"text-xs p-0 h-auto text-electric-blue",children:"Learn more about influence scoring →"})]})]})]})}function Hs({isOpen:o,onClose:c,mintData:i}){const{toast:u}=Qe(),[t,M]=r.useState(!1),f={twitter:`🎉 Just minted "${i.message}" on @Flutterbye ${i.wasFreeMint?"for FREE using a redemption code! 🎫":"🚀"}

Join the tokenized messaging revolution on Solana! 💎

#Flutterbye #Solana #Web3 #Blockchain`,facebook:`I just created a tokenized message "${i.message}" on Flutterbye! ${i.wasFreeMint?"Used a free minting code and paid zero fees! 🎫":""} This is the future of communication on blockchain. Check it out!`,generic:`🎉 Just minted "${i.message}" on Flutterbye! ${i.wasFreeMint?"Free minting with redemption code! 🎫":""}

Experience tokenized messaging on Solana blockchain.

Try it: ${window.location.origin}`},w={twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(f.twitter)}&url=${encodeURIComponent(window.location.origin)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.origin)}&quote=${encodeURIComponent(f.facebook)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.origin)}&title=${encodeURIComponent("Flutterbye - Tokenized Messaging")}&summary=${encodeURIComponent(f.generic)}`},g=async()=>{try{await navigator.clipboard.writeText(f.generic),M(!0),u({title:"Copied to clipboard!",description:"Share text copied. Paste it anywhere to spread the word!"}),setTimeout(()=>M(!1),2e3)}catch{u({title:"Copy failed",description:"Please select and copy the text manually.",variant:"destructive"})}},C=n=>{window.open(w[n],"_blank","width=600,height=400")},N=async()=>{try{await navigator.clipboard.writeText(window.location.origin),u({title:"Link copied!",description:"Flutterbye link copied to clipboard."})}catch{u({title:"Copy failed",description:"Please copy the link manually.",variant:"destructive"})}};return e.jsx(fs,{open:o,onOpenChange:c,children:e.jsxs(Ns,{className:"max-w-md glassmorphism border-electric-blue/30",children:[e.jsx(vs,{children:e.jsxs(ys,{className:"flex items-center gap-2 text-xl font-bold gradient-text",children:[e.jsx(Fe,{className:"w-6 h-6 text-electric-blue"}),"Share Your Success!"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-electric-blue/10 to-electric-green/10 rounded-lg border border-electric-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:"w-5 h-5 text-electric-green"}),e.jsx("span",{className:"font-semibold text-electric-blue",children:"Mint Successful!"})]}),e.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:['"',i.message,'"']}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(E,{variant:"secondary",className:"bg-electric-blue/20 text-electric-blue border-electric-blue/30",children:i.amount}),i.wasFreeMint&&e.jsxs(E,{variant:"secondary",className:"bg-electric-green/20 text-electric-green border-electric-green/30",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1"}),"FREE MINT"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Share Message:"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:f.generic,readOnly:!0,className:"w-full p-3 bg-slate-800/50 border border-electric-blue/30 rounded-lg text-sm text-gray-300 resize-none h-24"}),e.jsx(b,{size:"sm",variant:"ghost",onClick:g,className:"absolute top-2 right-2 h-6 w-6 p-0",children:t?e.jsx("div",{className:"w-4 h-4 text-electric-green",children:"✓"}):e.jsx(ws,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Share on Social Media:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs(b,{variant:"outline",onClick:()=>C("twitter"),className:"flex flex-col items-center gap-2 h-16 border-electric-blue/30 hover:bg-electric-blue/10",children:[e.jsx(He,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-xs",children:"Twitter"})]}),e.jsxs(b,{variant:"outline",onClick:()=>C("facebook"),className:"flex flex-col items-center gap-2 h-16 border-electric-blue/30 hover:bg-electric-blue/10",children:[e.jsx(zs,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-xs",children:"Facebook"})]}),e.jsxs(b,{variant:"outline",onClick:()=>C("linkedin"),className:"flex flex-col items-center gap-2 h-16 border-electric-blue/30 hover:bg-electric-blue/10",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 rounded text-white flex items-center justify-center text-xs font-bold",children:"in"}),e.jsx("span",{className:"text-xs",children:"LinkedIn"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Or copy link:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{value:window.location.origin,readOnly:!0,className:"flex-1 bg-slate-800/50 border-electric-blue/30"}),e.jsx(b,{variant:"outline",onClick:N,className:"border-electric-blue/30 hover:bg-electric-blue/10",children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),i.wasFreeMint&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-electric-green/10 to-yellow-500/10 rounded-lg border border-electric-green/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Pe,{className:"w-4 h-4 text-electric-green"}),e.jsx("span",{className:"text-sm font-semibold text-electric-green",children:"Bonus Tip!"})]}),e.jsx("p",{className:"text-xs text-gray-300",children:"Share your free mint experience to help others discover redemption codes and free minting opportunities!"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(b,{variant:"outline",onClick:c,className:"flex-1 border-electric-blue/30 hover:bg-electric-blue/10",children:"Close"}),e.jsxs(b,{onClick:()=>C("twitter"),className:"flex-1 bg-gradient-to-r from-electric-blue to-electric-green hover:from-electric-blue/80 hover:to-electric-green/80",children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Share Now"]})]})]})]})})}function qs({isVisible:o,currentStep:c,onComplete:i,onError:u,mintingData:t}){const[M,f]=r.useState([]),[w,g]=r.useState(0),[C,N]=r.useState(0),[n,p]=r.useState(0);r.useEffect(()=>{if(!o||!t)return;const a=[{id:"validation",title:"Validating Token Data",description:"Checking message format and parameters",status:"pending",icon:se,estimatedTime:2},{id:"wallet",title:"Connecting to Wallet",description:"Establishing secure connection to your wallet",status:"pending",icon:O,estimatedTime:3}];t.hasImage&&a.push({id:"image",title:"Processing Token Image",description:"Uploading and optimizing your custom image",status:"pending",icon:Me,estimatedTime:5}),a.push({id:"token",title:"Creating SPL Token",description:"Minting your message token on Solana blockchain",status:"pending",icon:de,estimatedTime:8}),t.hasValue&&a.push({id:"value",title:"Attaching Value",description:"Distributing value pool to token holders",status:"pending",icon:Fe,estimatedTime:6}),a.push({id:"finalization",title:"Finalizing Transaction",description:"Confirming on blockchain and updating records",status:"pending",icon:se,estimatedTime:4}),f(a),p(a.reduce((l,d)=>l+(d.estimatedTime||0),0))},[o,t]),r.useEffect(()=>{if(!o)return;const a=setInterval(()=>{N(l=>l+1)},1e3);return()=>clearInterval(a)},[o]),r.useEffect(()=>{c&&f(a=>{const l=[...a];let d=!1,S=0;for(let I=0;I<l.length;I++)l[I].id===c?(l[I].status="processing",d=!0):d?l[I].status="pending":(l[I].status="completed",S+=l[I].estimatedTime||0);const y=l.length,$=l.filter(I=>I.status==="completed").length,v=l.find(I=>I.status==="processing")?.5:0;g(($+v)/y*100);const U=l.filter(I=>I.status==="pending"||I.status==="processing").reduce((I,Y)=>I+(Y.estimatedTime||0),0);return p(U),l})},[c]);const h=a=>{if(a<60)return`${a}s`;const l=Math.floor(a/60),d=a%60;return`${l}m ${d}s`},j=(a,l)=>{switch(a){case"completed":return e.jsx(se,{className:"w-5 h-5 text-green-400"});case"processing":return e.jsx(me,{className:"w-5 h-5 text-blue-400 animate-spin"});case"error":return e.jsx(De,{className:"w-5 h-5 text-red-400"});default:return e.jsx(l,{className:"w-5 h-5 text-gray-400"})}},k=a=>{switch(a){case"completed":return"border-green-400/50 bg-green-900/20";case"processing":return"border-blue-400/50 bg-blue-900/20 animate-pulse";case"error":return"border-red-400/50 bg-red-900/20";default:return"border-gray-600/50 bg-gray-900/20"}};return o?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(F,{className:"w-full max-w-md bg-slate-900/95 border border-blue-500/30",children:e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-8 h-8 text-white animate-pulse"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Minting Your Token"}),e.jsxs("p",{className:"text-sm text-gray-400",children:['Creating "',t==null?void 0:t.message,'" • ',t==null?void 0:t.quantity," tokens"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-blue-400",children:[Math.round(w),"%"]})]}),e.jsx(W,{value:w,className:"h-3 bg-gray-700"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:h(C)}),e.jsx("div",{className:"text-xs text-gray-400",children:"Elapsed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-400",children:h(n)}),e.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]})]}),e.jsx("div",{className:"space-y-3",children:M.map((a,l)=>e.jsx("div",{className:`p-3 rounded-lg border transition-all duration-300 ${k(a.status)}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:j(a.status,a.icon)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:a.title}),e.jsx(E,{variant:a.status==="completed"?"default":a.status==="processing"?"secondary":a.status==="error"?"destructive":"outline",className:"text-xs",children:a.status==="processing"?"Active":a.status==="completed"?"Done":a.status==="error"?"Error":"Pending"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a.description}),a.status==="processing"&&a.estimatedTime&&e.jsxs("div",{className:"flex items-center mt-2 text-xs text-blue-400",children:[e.jsx(Ss,{className:"w-3 h-3 mr-1"}),"~",a.estimatedTime," seconds"]})]})]})},a.id))}),e.jsx("div",{className:"mt-6 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-center",children:e.jsx("p",{className:"text-xs text-blue-300",children:"🔐 Your transaction is being processed securely on the Solana blockchain"})})]})})}):null}function Ys({context:o,userInput:c="",onSuggestionApply:i,onOptimizationApply:u}){const[t,M]=r.useState({viralPotential:0,emotionalImpact:0,blockchainValue:0,suggestions:[],marketIntelligence:null,personalizedTips:[]}),[f,w]=r.useState(!1),[g,C]=r.useState(!1);Cs(),r.useEffect(()=>{c&&c.length>5&&N()},[c]);const N=async()=>{var h,j,k,a;w(!0);try{const[l,d,S]=await Promise.all([fetch("/api/comprehensive-ai/sms/quantum-emotion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({smsMessage:c,senderContext:{platform:"web",context:o},culturalContext:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})}).then(y=>y.json()).catch(()=>null),fetch("/api/comprehensive-ai/market/predictive-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({marketData:{contentType:o,message:c},socialSentiment:{platform:"flutterbye",mood:"analyzing"}})}).then(y=>y.json()).catch(()=>null),fetch("/api/comprehensive-ai/personalization/hyper-intelligence",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userContext:{context:o,currentAction:"typing"},behaviorData:{inputLength:c.length,sessionType:o}})}).then(y=>y.json()).catch(()=>null)]);M({viralPotential:((h=l==null?void 0:l.quantumEmotion)==null?void 0:h.viralPotential)||Math.random()*100,emotionalImpact:((j=l==null?void 0:l.quantumEmotion)==null?void 0:j.emotionalIntensity)||Math.random()*100,blockchainValue:((k=d==null?void 0:d.tokenPriceAnalysis)==null?void 0:k.estimatedValue)||Math.random()*.1,suggestions:["Add emotional emojis for higher engagement","Include blockchain terminology for community appeal","Consider timing for optimal viral window","Enhance with trending keywords"],marketIntelligence:d,personalizedTips:((a=S==null?void 0:S.hyperPersonalization)==null?void 0:a.optimizations)||["Your message style matches high-engagement patterns","Consider your audience's active hours","This tone resonates well with crypto community"]})}catch(l){console.error("Real-time AI analysis failed:",l)}finally{w(!1)}},n=()=>{switch(o){case"chat":return e.jsx(Te,{className:"w-4 h-4"});case"token-creation":return e.jsx(V,{className:"w-4 h-4"});case"marketplace":return e.jsx(D,{className:"w-4 h-4"});default:return e.jsx(O,{className:"w-4 h-4"})}},p=()=>{switch(o){case"chat":return"AI Chat Assistant";case"token-creation":return"Smart Token Advisor";case"marketplace":return"Market Intelligence";default:return"AI Assistant"}};return!c||c.length<5?e.jsx(F,{className:"bg-gradient-to-r from-electric-blue/5 to-purple-500/5 border-electric-blue/20",children:e.jsx(P,{className:"p-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/60",children:[n(),e.jsx("span",{className:"text-sm",children:"AI Assistant ready - start typing for real-time insights"})]})})}):e.jsx(F,{className:"bg-gradient-to-r from-electric-blue/10 to-purple-500/10 border-electric-blue/30",children:e.jsxs(P,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n(),e.jsx("span",{className:"font-medium text-white",children:p()}),e.jsx(E,{className:`${f?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:f?"Analyzing...":"Live Analysis"})]}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>C(!g),className:"text-electric-blue hover:text-white",children:g?"Simple":"Advanced"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-black/40 p-3 rounded border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(D,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Viral"})]}),e.jsxs("p",{className:"text-lg font-bold text-green-400",children:[Math.round(t.viralPotential),"%"]})]}),e.jsxs("div",{className:"bg-black/40 p-3 rounded border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(te,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Impact"})]}),e.jsxs("p",{className:"text-lg font-bold text-purple-400",children:[Math.round(t.emotionalImpact),"%"]})]}),e.jsxs("div",{className:"bg-black/40 p-3 rounded border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(ee,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Value"})]}),e.jsx("p",{className:"text-lg font-bold text-yellow-400",children:t.blockchainValue.toFixed(3)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-sm font-medium text-white flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3 text-electric-blue"}),"AI Suggestions"]}),e.jsx("div",{className:"space-y-1",children:t.suggestions.slice(0,g?4:2).map((h,j)=>e.jsx("button",{onClick:()=>i==null?void 0:i(h),className:"w-full text-left p-2 bg-white/5 hover:bg-electric-blue/10 rounded text-xs text-white/90 hover:text-white transition-all border border-white/10 hover:border-electric-blue/30",children:h},j))})]}),g&&e.jsxs("div",{className:"space-y-3 pt-3 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Personalized Tips"}),e.jsx("div",{className:"space-y-1",children:t.personalizedTips.map((h,j)=>e.jsx("div",{className:"text-xs text-white/70 p-2 bg-gradient-to-r from-electric-blue/5 to-transparent rounded border-l-2 border-electric-blue/50",children:h},j))})]}),e.jsxs("div",{className:"flex gap-2",children:[o==="token-creation"&&e.jsx(b,{size:"sm",className:"bg-electric-blue/20 hover:bg-electric-blue/30 text-electric-blue border-electric-blue/50",onClick:()=>u==null?void 0:u({type:"token-optimization",data:t}),children:"Apply Token Optimization"}),o==="chat"&&e.jsx(b,{size:"sm",className:"bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 border-purple-500/50",onClick:()=>u==null?void 0:u({type:"chat-enhancement",data:t}),children:"Enhance Message"})]})]})]})})}function at({tokenType:o}={}){var Re;const{toast:c}=Qe();Ts();const[i,u]=r.useState(""),[t,M]=r.useState(""),[f,w]=r.useState("");r.useEffect(()=>{const s=()=>{Le(!0)};return window.addEventListener("openShareModal",s),()=>window.removeEventListener("openShareModal",s)},[]),r.useEffect(()=>{const x=setTimeout(async()=>{const m=parseInt(t);if(m&&m>0)try{const R=await ke("/api/calculate-token-price","POST",{quantity:m});C(R)}catch(R){console.error("Failed to calculate price:",R),C(null)}else C(null)},300);return()=>clearTimeout(x)},[t]);const[g,C]=r.useState(null),[N,n]=r.useState(""),[p,h]=r.useState("manual"),[j,k]=r.useState(""),[a,l]=r.useState(null),[d,S]=r.useState(""),[y,$]=r.useState(!1),[v,Z]=r.useState(""),[U,I]=r.useState("SOL"),[Y,Ae]=r.useState(!1),[ae,ue]=r.useState(""),[pe,ge]=r.useState([]),[Xe,Ee]=r.useState(""),[le,je]=r.useState(""),[be,Ve]=r.useState(!1),[B,re]=r.useState(null),[H,ie]=r.useState(!1),[T,_e]=r.useState(1),[es,K]=r.useState(!1),[ss,z]=r.useState(""),[Gs,fe]=r.useState(""),ts=()=>!i||i.length===0?1:!t||parseInt(t)<=0?2:y&&(!v||parseFloat(v)<=0)?3:4;r.useEffect(()=>{_e(ts())},[i,t,y,v]);const[as,$e]=r.useState(!1),[ls,Le]=r.useState(!1),[L,ze]=r.useState(null),ne=xe({mutationFn:async s=>{K(!0),fe("");try{z("validation"),await new Promise(m=>setTimeout(m,1500)),z("wallet"),await new Promise(m=>setTimeout(m,2e3)),s.imageFile&&(z("image"),await new Promise(m=>setTimeout(m,3e3))),z("token");const x=await ke("/api/solana/create-token","POST",s);return await new Promise(m=>setTimeout(m,4e3)),s.attachedValue&&parseFloat(s.attachedValue)>0&&(z("value"),await new Promise(m=>setTimeout(m,3e3))),z("finalization"),await new Promise(m=>setTimeout(m,2e3)),x}catch(x){throw fe(x instanceof Error?x.message:"Unknown error occurred"),x}},onSuccess:s=>{K(!1),z(""),ze({message:i,amount:`${t} tokens${y?` • ${v} ${U} value`:""}`,type:"Token Mint",wasFreeMint:H,redemptionCode:B==null?void 0:B.code,transactionUrl:s.transactionUrl||s.signature}),$e(!0),u(""),M(""),n(""),k(""),l(null),S(""),$(!1),Z(""),I("SOL"),Ae(!1),ue(""),Ee(""),je(""),re(null),ie(!1),ge([])},onError:s=>{K(!1),z(""),c({title:"Minting Failed",description:s.message||"Failed to mint token. Please try again.",variant:"destructive"})}}),rs=xe({mutationFn:async s=>{const x={code:s,walletAddress:"user-wallet-placeholder",ipAddress:void 0,userAgent:navigator.userAgent,referralSource:new URLSearchParams(window.location.search).get("ref")||"direct",timestamp:new Date().toISOString(),geolocation:void 0,metadata:{screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform}};return await ke("POST","/api/validate-redemption-code",x)},onSuccess:s=>{re(s),ie(!0),c({title:"Code Validated",description:`Your redemption code is valid! You'll save ${s.savingsAmount||"0.01"} SOL on this transaction.`})},onError:s=>{re(null),ie(!1),c({title:"Invalid Code",description:s.message||"This redemption code is invalid or expired.",variant:"destructive"})}}),is=()=>{le.trim()&&(Ve(!0),rs.mutate(le.trim()),Ve(!1))},ns=s=>{if(s.preventDefault(),i.length>27){c({title:"Message too long",description:"Message must be 27 characters or less",variant:"destructive"});return}p==="manual"&&j&&j.split(`
`).filter(m=>m.trim());const x={message:i,value:y&&parseFloat(v)||0,recipients:p==="manual"&&j?j.split(`
`).filter(m=>m.trim()):[],walletAddress:"user-placeholder-wallet",image:d||void 0};ne.mutate(x)},Ne=(s,x)=>{var Ue;const m=(Ue=s.target.files)==null?void 0:Ue[0];if(!m)return;if(!{image:["image/jpeg","image/png","image/webp"],gif:["image/gif"],qr:["image/jpeg","image/png","image/webp"]}[x].includes(m.type)){c({title:"Invalid file type",description:`Please upload a valid ${x} file`,variant:"destructive"});return}const Oe=new FileReader;Oe.onload=ms=>{var Be;const xs=(Be=ms.target)==null?void 0:Be.result,hs={id:Math.random().toString(36).substr(2,9),type:x,url:xs,name:m.name};ge(us=>[...us,hs]),c({title:"Media added",description:`${x} has been added to your message`})},Oe.readAsDataURL(m)},cs=s=>{ge(x=>x.filter(m=>m.id!==s))},os=s=>{var m;const x=(m=s.target.files)==null?void 0:m[0];x&&x.type==="text/csv"?(l(x),c({title:"CSV Uploaded",description:`${x.name} ready for processing`})):c({title:"Invalid file",description:"Please upload a valid CSV file",variant:"destructive"})},ds=()=>{if(H)return 0;const s=.01,x=d?.005:0,m=y&&parseFloat(v)||0;return s+x+m},ce=27-i.length;return e.jsxs("div",{className:"min-h-screen pt-16 pb-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-gradient",children:"Flutterbye Message Creation Center"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Create individual tokens or limited edition collections"})]}),e.jsxs(Ms,{defaultValue:"individual",className:"space-y-4",children:[e.jsxs(Is,{className:"grid w-full grid-cols-3 bg-slate-800/50",children:[e.jsxs(ve,{value:"individual",className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),"Individual Token"]}),e.jsxs(ve,{value:"limited",className:"flex items-center gap-2 relative",children:[e.jsx(X,{className:"w-4 h-4"}),"Limited Edition",e.jsx("span",{className:"absolute -top-1 -right-1 px-2 py-0.5 text-xs font-bold bg-red-500 text-white rounded-full animate-pulse shadow-lg shadow-red-500/50",children:"Coming Soon"})]}),e.jsxs(ve,{value:"collaborative",className:"flex items-center gap-2 relative",children:[e.jsx(Q,{className:"w-4 h-4"}),"🚀 Collaborative Mode",e.jsx("span",{className:"absolute -top-1 -right-1 px-2 py-0.5 text-xs font-bold bg-red-500 text-white rounded-full animate-pulse shadow-lg shadow-red-500/50",children:"Coming Soon"})]})]}),e.jsxs(ye,{value:"individual",className:"space-y-6",children:[e.jsxs("div",{className:"fixed top-20 right-4 z-50 bg-slate-900/95 backdrop-blur-sm border border-electric-blue/30 rounded-xl p-3 shadow-lg",children:[e.jsx("div",{className:"flex items-center gap-3",children:[{step:1,label:"Message",icon:V,completed:i.length>0},{step:2,label:"Quantity",icon:oe,completed:t&&parseInt(t)>0},{step:3,label:"Value",icon:ee,completed:!y||v&&parseFloat(v)>0},{step:4,label:"Mint",icon:O,completed:!1}].map(({step:s,label:x,icon:m,completed:R})=>e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:`
                          w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300
                          ${T===s?"bg-gradient-to-r from-electric-blue to-circuit-teal animate-pulse shadow-lg shadow-electric-blue/50":R?"bg-green-600 text-white":"bg-gray-700 text-gray-400"}
                        `,children:e.jsx(m,{className:"w-5 h-5"})}),e.jsx("span",{className:`text-xs font-medium ${T===s?"text-electric-blue":R?"text-green-400":"text-gray-400"}`,children:x})]},s))}),T<4&&e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("span",{className:"text-xs text-electric-blue animate-pulse",children:["Complete Step ",T]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsx(F,{id:"mint-form",className:"premium-card electric-frame xl:col-span-3",children:e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-gradient",children:"Create Your Message Token"}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"Message Structure"}),e.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Token Name:"})," 27 characters max - becomes the official token identifier"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Token Image:"})," Main visual for the token (separate from message media)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Extended Message:"})," Up to 500 characters - for longer descriptions and context"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message Media:"})," Add images, GIFs, or QR codes within your extended message"]})]})]}),e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-slate-900/80 to-black/60 rounded-xl border border-electric-blue/20",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-4",children:[{step:1,label:"Message",icon:V,completed:i.length>0},{step:2,label:"Quantity",icon:oe,completed:t&&parseInt(t)>0},{step:3,label:"Value",icon:ee,completed:!y||v&&parseFloat(v)>0},{step:4,label:"Mint",icon:O,completed:!1}].map(({step:s,label:x,icon:m,completed:R})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`
                          w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300
                          ${T===s?"bg-gradient-to-r from-electric-blue to-circuit-teal animate-pulse shadow-lg shadow-electric-blue/50":R?"bg-green-600 text-white":"bg-gray-700 text-gray-400"}
                        `,children:e.jsx(m,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-sm font-medium ${T===s?"text-electric-blue":R?"text-green-400":"text-gray-400"}`,children:x}),s<4&&e.jsx("div",{className:"w-8 h-px bg-gray-600"})]},s))})})}),e.jsxs("form",{onSubmit:ns,className:"space-y-6",children:[e.jsxs("div",{className:`electric-frame p-4 transition-all duration-500 ${T===1?"bg-gradient-to-r from-electric-blue/20 to-electric-green/20 ring-2 ring-electric-blue/50 shadow-lg shadow-electric-blue/25":"bg-gradient-to-r from-electric-blue/5 to-electric-green/5"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs(A,{htmlFor:"message",className:`font-semibold flex items-center gap-2 ${T===1?"text-electric-blue animate-pulse":"text-electric-blue"}`,children:[e.jsx(V,{className:`w-4 h-4 ${T===1?"animate-spin":""}`}),"Message (Max 27 characters)",T===1&&e.jsx(E,{className:"bg-electric-blue/20 text-electric-blue border-electric-blue animate-pulse ml-2",children:"Step 1"})]}),e.jsxs(E,{variant:ce<0?"destructive":"secondary",className:"border-electric-blue/50",children:[ce,"/27"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{id:"message",value:i,onChange:s=>u(s.target.value),maxLength:27,required:!0,placeholder:"StakeNowForYield",className:`${ce<0?"border-destructive":"border-electric-blue/50"} bg-black/40 text-white placeholder:text-gray-400 focus:border-electric-green focus:ring-electric-green/20`}),e.jsx("div",{className:"absolute inset-0 rounded-md border border-electric-blue/30 pointer-events-none"})]}),e.jsxs("p",{className:"text-xs text-electric-blue/80 mt-2 flex items-center gap-1",children:[e.jsx(O,{className:"w-3 h-3"}),"Your message will become the token name with FLBY-MSG symbol"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-cyan/5 rounded-lg p-1",children:e.jsx(Vs,{onOptimizedTextSelect:s=>u(s),className:"border-0 bg-transparent"})}),e.jsx(Ys,{context:"token-creation",userInput:i+(ae?` ${ae}`:""),onSuggestionApply:s=>{i.length===0||i.length<10?u(s.substring(0,27)):ue(s)},onOptimizationApply:s=>{s.type==="token-optimization"&&c({title:"AI Optimization Applied",description:"Token enhanced with AI recommendations"})}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(A,{htmlFor:"memo",className:"text-electric-blue font-semibold flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Extended Message (Optional)"]}),e.jsx(qe,{id:"memo",value:ae,onChange:s=>ue(s.target.value),placeholder:"Add a longer message, detailed description, or special instructions for this token. This text will be stored with your token and can be much longer than the 27-character token name...",rows:4,maxLength:500,className:"bg-black/40 text-white placeholder:text-gray-400 border-electric-blue/30 focus:border-electric-green focus:ring-electric-green/20"}),e.jsxs("p",{className:"text-xs text-electric-blue/80 mt-2 flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3"}),"Use this for longer messages, detailed descriptions, or context that doesn't fit in the 27-character token name. ",ae.length,"/500 characters"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(A,{className:"text-electric-blue font-semibold flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),"Add Media to Message"]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Attach images, GIFs, QR codes, or voice messages to enhance your extended message"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:s=>Ne(s,"image"),className:"hidden",id:"message-image-upload"}),e.jsx(A,{htmlFor:"message-image-upload",className:"cursor-pointer",children:e.jsxs(b,{type:"button",variant:"outline",size:"sm",children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Image"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/gif",onChange:s=>Ne(s,"gif"),className:"hidden",id:"message-gif-upload"}),e.jsx(A,{htmlFor:"message-gif-upload",className:"cursor-pointer",children:e.jsxs(b,{type:"button",variant:"outline",size:"sm",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Add GIF"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:s=>Ne(s,"qr"),className:"hidden",id:"message-qr-upload"}),e.jsx(A,{htmlFor:"message-qr-upload",className:"cursor-pointer",children:e.jsxs(b,{type:"button",variant:"outline",size:"sm",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Add QR Code"]})})]})]}),pe.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(A,{children:["Attached Media (",pe.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:pe.map(s=>e.jsx("div",{className:"relative border border-slate-200 dark:border-slate-700 rounded-lg p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded flex items-center justify-center overflow-hidden",children:[s.type==="image"&&e.jsx(we,{className:"w-6 h-6 text-blue-500"}),s.type==="gif"&&e.jsx(Ce,{className:"w-6 h-6 text-green-500"}),s.type==="qr"&&e.jsx(Ye,{className:"w-6 h-6 text-purple-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:s.type})]}),e.jsx(b,{type:"button",variant:"ghost",size:"sm",onClick:()=>cs(s.id),className:"w-6 h-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Ie,{className:"w-4 h-4"})})]})},s.id))})]})]})]}),e.jsx("div",{className:`space-y-4 transition-all duration-500 ${T===2?"ring-2 ring-electric-blue/50 shadow-lg shadow-electric-blue/25 bg-gradient-to-r from-blue-900/20 to-green-900/20 p-4 rounded-xl":""}`,children:e.jsxs("div",{children:[e.jsxs(A,{htmlFor:"mintAmount",className:`flex items-center gap-2 ${T===2?"text-electric-blue animate-pulse":""}`,children:[e.jsx(oe,{className:`w-4 h-4 ${T===2?"animate-spin":""}`}),"Mint Amount",T===2&&e.jsx(E,{className:"bg-electric-blue/20 text-electric-blue border-electric-blue animate-pulse ml-2",children:"Step 2"})]}),e.jsx(q,{id:"mintAmount",type:"number",min:"1",step:"1",value:t,onChange:s=>{const x=s.target.value;if(M(x),x){const m=Rs(x);w(m.isValid?"":m.error||"")}else w("")},required:!0,placeholder:"1000"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Only whole numbers allowed - no fractional tokens"}),g&&e.jsxs("div",{className:"mt-3 p-4 bg-gradient-to-r from-blue-900/30 to-green-900/30 border border-electric-blue/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-electric-blue font-medium text-sm",children:"Price per Token"}),e.jsxs("p",{className:"text-xl font-bold text-white",children:["$",g.pricePerToken.toFixed(2)]}),((Re=g.tier)==null?void 0:Re.discountPercentage)!=="0"&&e.jsxs(E,{className:"bg-green-600/20 text-green-400 border-green-400 text-xs",children:[g.tier.discountPercentage,"% OFF"]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"text-circuit-teal font-medium text-sm",children:"Total Cost"}),e.jsxs("p",{className:"text-xl font-bold text-electric-green",children:["$",g.totalPrice.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[parseInt(t)," × $",g.pricePerToken.toFixed(2)]})]})]}),g.tier&&e.jsx("div",{className:"mt-2 pt-2 border-t border-electric-blue/20",children:e.jsxs("p",{className:"text-xs text-gray-400",children:[e.jsx(V,{className:"w-3 h-3 inline mr-1"}),"Using ",e.jsx("span",{className:"text-electric-blue font-medium",children:g.tier.tierName})," pricing tier"]})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-purple-900/20 border border-blue-500/30 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold flex items-center mb-3 text-blue-400",children:[e.jsx(Q,{className:"w-5 h-5 mr-2"}),"Token Holder Analysis"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Powerful wallet targeting for precision marketing campaigns"}),e.jsx($s,{onHoldersSelected:s=>{k(s.map(x=>x.address).join(`
`)),h("holders")}})]}),e.jsxs("div",{children:[e.jsx(A,{children:"Alternative Target Methods"}),e.jsxs(As,{value:p,onValueChange:h,className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{value:"manual",id:"manual"}),e.jsx(A,{htmlFor:"manual",children:"Manual Entry"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{value:"csv",id:"csv"}),e.jsx(A,{htmlFor:"csv",children:"CSV Upload"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{value:"holders",id:"holders"}),e.jsx(A,{htmlFor:"holders",children:"Use Token Holder Analysis Above"})]})]}),p==="manual"&&e.jsx("div",{className:"mt-4",children:e.jsx(qe,{value:j,onChange:s=>k(s.target.value),placeholder:"Enter wallet addresses, one per line",rows:4})}),p==="csv"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx(Me,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload CSV file with wallet addresses"}),e.jsx("input",{type:"file",accept:".csv",onChange:os,className:"hidden",id:"csv-upload"}),e.jsx(A,{htmlFor:"csv-upload",className:"cursor-pointer",children:e.jsx(b,{type:"button",variant:"outline",size:"sm",children:"Choose File"})}),a&&e.jsxs("p",{className:"text-xs text-primary mt-2",children:["Selected: ",a.name]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"CSV should contain wallet addresses in first column"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Me,{className:"w-5 h-5 mr-2 text-green-500"}),"Token Image (Optional)"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a custom image to make your token more engaging and memorable"}),e.jsx(Es,{onImageSelect:S,onImageRemove:()=>S(""),selectedImage:d,disabled:ne.isPending}),d&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 flex items-center",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Image attached! Your token will stand out with this custom visual."]})})]}),e.jsx(Je,{}),e.jsx(Je,{}),e.jsxs("div",{className:`space-y-6 transition-all duration-500 ${T===3?"ring-2 ring-electric-blue/50 shadow-lg shadow-electric-blue/25 bg-gradient-to-r from-blue-900/20 to-green-900/20 p-6 rounded-xl":"p-6 bg-gradient-to-r from-purple-900/10 to-blue-900/10 border-2 border-purple-500/30 rounded-xl"}`,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h4",{className:`text-2xl font-bold flex items-center justify-center ${T===3?"text-electric-blue animate-pulse":"text-purple-400"}`,children:[e.jsx(ee,{className:`w-6 h-6 mr-3 ${T===3?"text-electric-blue animate-spin":"text-purple-400"}`}),"Value & Distribution Engine",T===3&&e.jsx(E,{className:"bg-electric-blue/20 text-electric-blue border-electric-blue animate-pulse ml-3",children:"Step 3"})]}),e.jsx("p",{className:"text-sm text-purple-300 mt-2 max-w-md mx-auto",children:"🚀 Transform your message into a valuable asset by attaching real SOL tokens that recipients can claim"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border border-green-500/40 rounded-lg p-3 text-center",children:[e.jsx(Pe,{className:"w-6 h-6 mx-auto text-green-400 mb-2"}),e.jsx("h5",{className:"text-sm font-semibold text-green-300",children:"Instant Rewards"}),e.jsx("p",{className:"text-xs text-green-400/80",children:"Recipients get immediate value"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border border-blue-500/40 rounded-lg p-3 text-center",children:[e.jsx(te,{className:"w-6 h-6 mx-auto text-blue-400 mb-2"}),e.jsx("h5",{className:"text-sm font-semibold text-blue-300",children:"Viral Incentive"}),e.jsx("p",{className:"text-xs text-blue-400/80",children:"Value drives engagement"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border border-purple-500/40 rounded-lg p-3 text-center",children:[e.jsx(X,{className:"w-6 h-6 mx-auto text-purple-400 mb-2"}),e.jsx("h5",{className:"text-sm font-semibold text-purple-300",children:"Premium Appeal"}),e.jsx("p",{className:"text-xs text-purple-400/80",children:"Value = perceived importance"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-indigo-900/30 to-purple-900/30 border-2 border-purple-400/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Ge,{id:"attach-value",checked:y,onCheckedChange:$,className:"data-[state=checked]:bg-purple-500"}),e.jsx(A,{htmlFor:"attach-value",className:"text-lg font-semibold text-purple-300 cursor-pointer",children:"💰 Attach Real Value to Your Token"})]}),e.jsx("p",{className:"text-sm text-purple-400/90 ml-11",children:"Turn your message into a valuable asset that recipients can actually claim and use. This is what makes Flutterbye revolutionary!"})]}),!y&&e.jsx("div",{className:"text-right",children:e.jsx(E,{variant:"outline",className:"border-purple-400/50 text-purple-300",children:"Optional but Powerful"})})]}),!y&&e.jsx("div",{className:"mt-3 p-3 bg-purple-500/10 border border-purple-400/30 rounded-lg",children:e.jsxs("p",{className:"text-xs text-purple-300 flex items-center",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),e.jsx("strong",{children:"Why attach value?"})," Recipients are 10x more likely to engage with tokens that have real worth. Transform your message from notification to valuable gift!"]})})]}),y&&e.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-r from-green-900/20 to-blue-900/20 border-2 border-green-400/40 rounded-xl",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-green-300 mb-2",children:"🎯 Value Configuration"}),e.jsx("p",{className:"text-sm text-green-400/80",children:"Set up how much value each recipient will receive"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{htmlFor:"attached-value",className:"text-base font-semibold text-green-300",children:"Total Value Pool"}),e.jsx(q,{id:"attached-value",type:"number",step:"0.001",min:"0",value:v,onChange:s=>Z(s.target.value),placeholder:"10.0",className:"text-lg py-3 bg-black/40 border-green-400/50 focus:border-green-300 text-center"}),e.jsx("p",{className:"text-xs text-green-400/80",children:"💎 This amount gets distributed among all tokens"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{htmlFor:"currency",className:"text-base font-semibold text-blue-300",children:"Currency"}),e.jsxs("select",{id:"currency",value:U,onChange:s=>I(s.target.value),className:"w-full px-4 py-3 text-lg border rounded-md bg-black/40 border-blue-400/50 focus:border-blue-300 text-center text-white",children:[e.jsx("option",{value:"SOL",children:"SOL (Solana)"}),e.jsx("option",{value:"USDC",children:"USDC (USD Coin)"})]}),e.jsx("p",{className:"text-xs text-blue-400/80",children:"🌟 Choose your distribution currency"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-900/30 to-orange-900/30 border-2 border-yellow-400/50 rounded-lg text-center",children:[e.jsx("h6",{className:"text-lg font-bold text-yellow-300 mb-2",children:"💰 Value Per Token"}),e.jsxs("div",{className:"text-3xl font-bold text-yellow-200 mb-2",children:[v&&t?(parseFloat(v)/parseInt(t)).toFixed(6):"0"," ",U]}),e.jsx("p",{className:"text-sm text-yellow-400/90",children:"Each recipient gets this amount when they claim their token"}),e.jsxs("p",{className:"text-xs text-yellow-500/70 mt-1",children:["Automatically calculated: ",v||"0"," ",U," ÷ ",t||"0"," tokens"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"expiration-date",children:"Expiration Date (Optional)"}),e.jsx(q,{id:"expiration-date",type:"datetime-local",value:Xe,onChange:s=>Ee(s.target.value),min:new Date().toISOString().slice(0,16)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"If set, attached value can only be claimed before this date"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"is-public",checked:Y,onCheckedChange:Ae}),e.jsx(A,{htmlFor:"is-public",children:"Make token publicly visible"})]})]})]}),e.jsx(F,{className:"bg-slate-700/50",children:e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("h4",{className:"font-semibold",children:"Fee Structure"})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[H?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-green-400",children:[e.jsx("span",{children:"Redemption Code Applied:"}),e.jsx("span",{children:"FREE MINTING"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground line-through",children:"Base Minting Fee:"}),e.jsx("span",{className:"line-through text-muted-foreground",children:"0.01 SOL"})]}),d&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground line-through",children:"Image Upload Fee:"}),e.jsx("span",{className:"line-through text-muted-foreground",children:"0.005 SOL"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Base Minting Fee:"}),e.jsx("span",{children:"0.01 SOL"})]}),d&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Image Upload Fee:"}),e.jsx("span",{children:"0.005 SOL"})]})]}),y&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Value Pool:"}),e.jsxs("span",{children:[(parseFloat(v)||0).toFixed(3)," ",U]})]}),e.jsxs("div",{className:"flex justify-between font-semibold border-t border-slate-600 pt-2",children:[e.jsx("span",{children:"Total Cost:"}),e.jsx("span",{className:`${H?"text-green-400":"text-primary"}`,children:H?"FREE":`${ds().toFixed(3)} SOL`})]})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-500/30 rounded-xl",children:[e.jsxs("h4",{className:"text-lg font-semibold flex items-center text-green-400 mb-3",children:[e.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Free Minting Code (Optional)"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Have a redemption code? Enter it before minting to get your tokens for free!"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(q,{placeholder:"Enter redemption code (e.g., FLBY-EARLY-001)",value:le,onChange:s=>je(s.target.value.toUpperCase()),disabled:be||H,className:"bg-black/40 border-green-500/30 focus:border-green-400 text-white placeholder:text-gray-400"}),e.jsx(b,{type:"button",variant:"outline",onClick:is,disabled:!le.trim()||be||H,className:"border-green-500/50 text-green-400 hover:bg-green-500/10",children:be?e.jsx(me,{className:"w-4 h-4 animate-spin"}):"Validate"})]}),B&&H&&e.jsx("div",{className:"p-4 bg-green-500/10 border border-green-400/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"w-5 h-5 mr-2 text-green-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-green-300",children:['Code "',B.code,'" Validated!']}),e.jsxs("p",{className:"text-sm text-green-400",children:["Type: ",B.type," • ",B.remainingUses!==null?`${B.remainingUses} uses left`:"Unlimited uses"]})]})]}),e.jsx(b,{type:"button",variant:"ghost",size:"sm",onClick:()=>{je(""),re(null),ie(!1)},className:"text-green-400 hover:text-green-300",children:e.jsx(Ie,{className:"w-4 h-4"})})]})})]}),e.jsx(b,{type:"submit",disabled:ne.isPending||ce<0,className:`w-full py-4 text-lg cyber-glow transition-all duration-500 ${T===4?"bg-gradient-to-r from-electric-blue to-circuit-teal hover:from-electric-blue/80 hover:to-circuit-teal/80 animate-pulse ring-2 ring-electric-blue/50 shadow-lg shadow-electric-blue/50":"bg-gradient-to-r from-primary to-blue-500 hover:from-blue-500 hover:to-primary"}`,children:ne.isPending?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-4 h-4 animate-spin mr-2"}),"Minting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:`w-4 h-4 mr-2 ${T===4?"animate-spin":""}`}),T===4?"Ready to Mint Tokens!":"Mint Tokens"]})})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsx(F,{className:"glassmorphism",children:e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Token Preview"}),e.jsx("div",{className:"bg-slate-700/50 p-4 rounded-xl border-2 border-dashed border-slate-600",children:e.jsxs("div",{className:"text-center",children:[d?e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full overflow-hidden",children:e.jsx("img",{src:`data:image/png;base64,${d}`,alt:"Token preview",className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-r from-primary to-blue-500 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"text-lg text-white"})}),e.jsx("h4",{className:"text-sm font-bold mb-1",children:i||"Your Message Token"}),e.jsx(E,{variant:"secondary",className:"mb-3 text-xs",children:"FLBY-MSG"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Supply:"}),e.jsx("span",{children:t||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Value:"}),e.jsx("span",{children:N?`${N} SOL`:"Free"})]})]})]})})]})})})]}),i.trim()&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(Os,{message:i,recipientCount:parseInt(t)||1,onValueSuggestion:s=>n(s.toString()),onOptimizedMessage:s=>u(s)}),e.jsx(Us,{message:i,recipientCount:parseInt(t)||1,valuePerToken:parseFloat(N)||0,onBoostSuggestion:s=>{console.log("Viral boost suggestion:",s)}}),e.jsx(Bs,{senderWallet:"connected-wallet",recipientCount:parseInt(t)||1,valuePerToken:parseFloat(N)||0,messageCategory:"other"})]})]}),e.jsx(ye,{value:"limited",className:"space-y-6",children:e.jsxs(F,{className:"premium-card electric-frame",children:[e.jsxs(J,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5"}),"Limited Edition Collections"]}),e.jsx(Ze,{children:"Create exclusive, limited-supply token collections with unique attributes"})]}),e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-16 h-16 mx-auto text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Limited Edition Coming Soon"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Create exclusive token sets with limited supply, special artwork, and rarity tiers. Perfect for collectibles, event badges, and premium offerings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"border border-purple-500/20 bg-purple-500/5 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-purple-400 mb-2",children:"Rarity Tiers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Common, Rare, Epic, Legendary"})]}),e.jsxs("div",{className:"border border-blue-500/20 bg-blue-500/5 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-400 mb-2",children:"Limited Supply"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set maximum editions"})]}),e.jsxs("div",{className:"border border-green-500/20 bg-green-500/5 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-400 mb-2",children:"Custom Artwork"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unique visuals per tier"})]})]}),e.jsxs(b,{className:"mt-6",variant:"outline",disabled:!0,children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Coming Soon"]})]})})]})}),e.jsx(ye,{value:"collaborative",className:"space-y-6",children:e.jsx(Js,{})})]})]}),e.jsx(Ls,{isVisible:as,onClose:()=>{$e(!1),ze(null)},transactionType:(L==null?void 0:L.type)||"Transaction",amount:L==null?void 0:L.amount,message:L==null?void 0:L.message}),L&&e.jsx(Hs,{isOpen:ls,onClose:()=>Le(!1),mintData:L}),e.jsx(qs,{isVisible:es,currentStep:ss,onComplete:()=>{K(!1),z("")},onError:s=>{fe(s),K(!1),z("")},mintingData:{message:i,quantity:parseInt(t)||0,hasValue:y&&parseFloat(v)>0,hasImage:!!d}})]})}function Js(){const[o,c]=r.useState(""),[i,u]=r.useState(""),[t,M]=r.useState(!1),{data:f,refetch:w}=Fs({queryKey:["/api/collaborative/sessions"],refetchInterval:5e3}),g=xe({mutationFn:async n=>(await fetch("/api/collaborative/create-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,creatorId:"current-user"})})).json(),onSuccess:n=>{c(n.sessionId),M(!1),u(""),w()}}),C=xe({mutationFn:async n=>(await fetch("/api/collaborative/join-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:n,userId:"current-user"})})).json(),onSuccess:()=>{w()}}),N=()=>{i.trim()&&g.mutate({name:i,description:"Collaborative token creation session"})};return e.jsxs(F,{className:"electric-frame",children:[e.jsxs(J,{children:[e.jsxs(G,{className:"flex items-center gap-2 text-gradient",children:[e.jsx(Q,{className:"w-5 h-5"}),"Collaborative Token Creation"]}),e.jsx(Ze,{children:"Create tokens together in real-time with multiple contributors"})]}),e.jsxs(P,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-3 text-white",children:"Create New Session"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(q,{placeholder:"Session name...",value:i,onChange:n=>u(n.target.value),onKeyPress:n=>n.key==="Enter"&&N(),className:"flex-1"}),e.jsx(b,{onClick:N,disabled:!i.trim()||g.isPending,className:"bg-purple-600 hover:bg-purple-700",children:g.isPending?e.jsx(me,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Active Sessions"}),f==null?void 0:f.map(n=>{var p,h,j,k;return e.jsx(F,{className:`transition-all duration-200 cursor-pointer ${o===n.sessionId?"ring-2 ring-purple-500 bg-purple-900/10":"hover:ring-1 hover:ring-purple-400/50"}`,onClick:()=>c(n.sessionId),children:e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:n.name||"Untitled Session"}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Created by ",n.creatorId," • ",((p=n.collaborators)==null?void 0:p.length)||0," contributors"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:n.status==="active"?"default":"secondary",className:n.status==="active"?"bg-green-600":"",children:n.status==="active"?"Live":"Paused"}),e.jsx(b,{size:"sm",onClick:a=>{a.stopPropagation(),C.mutate(n.sessionId)},disabled:C.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Join"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Token Progress:"}),e.jsx("div",{className:"text-white font-medium",children:(h=n.tokenProgress)!=null&&h.message?"✓ Message":"○ Message"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Contributions:"}),e.jsx("div",{className:"text-white font-medium",children:((j=n.contributions)==null?void 0:j.length)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Viral Score:"}),e.jsxs("div",{className:"text-green-400 font-medium",children:[((k=n.viralPotential)==null?void 0:k.score)||0,"/100"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Last Activity:"}),e.jsx("div",{className:"text-white font-medium",children:n.lastActivity?"Just now":"N/A"})]})]}),n.currentToken&&e.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Current Token: "}),e.jsx("span",{className:"text-white font-mono",children:n.currentToken.message||"Working..."})]})})]})},n.sessionId)}),(!f||f.length===0)&&e.jsx(F,{className:"text-center py-12",children:e.jsxs(P,{children:[e.jsx(Q,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Active Sessions"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Create a new collaborative session to get started"}),e.jsx(b,{onClick:()=>M(!0),className:"bg-purple-600 hover:bg-purple-700",children:"Create First Session"})]})})]}),o&&e.jsxs(F,{className:"mt-6 bg-gradient-to-r from-purple-900/20 to-blue-900/20 border-purple-500/30",children:[e.jsx(J,{children:e.jsx(G,{className:"text-sm text-purple-400",children:"Session Active"})}),e.jsxs(P,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(F,{className:"bg-slate-800/50",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-300",children:"Active Contributors"}),e.jsx("p",{className:"text-xl font-bold text-white",children:"3"})]})]})})}),e.jsx(F,{className:"bg-slate-800/50",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"h-5 w-5 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-300",children:"Viral Potential"}),e.jsx("p",{className:"text-xl font-bold text-white",children:"87/100"})]})]})})}),e.jsx(F,{className:"bg-slate-800/50",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-5 w-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-300",children:"Contributions"}),e.jsx("p",{className:"text-xl font-bold text-white",children:"12"})]})]})})})]}),e.jsxs("div",{className:"mt-4 p-4 bg-slate-800/30 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Current Token Preview"}),e.jsx("div",{className:"text-lg font-mono text-gradient",children:'"Building the future together..."'}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Last edited by user_123 • 2 minutes ago"})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs(b,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Finalize Token"]}),e.jsxs(b,{size:"sm",variant:"outline",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Leave Session"]})]})]})]})]})]})}export{at as default};

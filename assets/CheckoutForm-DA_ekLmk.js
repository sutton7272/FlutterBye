import{r as p,j as e,b,C as h,e as y,f as g,a as P,h as j,aD as v}from"./index-CeACcdR0.js";import{E as N,l as C,u as w,a as S,P as F}from"./index-DJT_lXMh.js";let d=null;const k=()=>(d||(d=C("pk_test_51Rs8sDF2BrAZxNc0Vl4BlwodUxflv35pWfkNSOleKnUX5dPNMY4JI70PdPGa7vqFpTSCGhALT2jdYZ6UPENumXu500TZ8oKOos")),d);function B({children:t,clientSecret:r,amount:l}){const[s]=p.useState(()=>k());if(!s)return e.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400",children:"Stripe is not properly configured. Please check your environment variables."})});const a={clientSecret:r,appearance:{theme:"night",variables:{colorPrimary:"#3b82f6",colorBackground:"#1e293b",colorText:"#ffffff",colorDanger:"#ef4444",fontFamily:"system-ui, sans-serif",spacingUnit:"4px",borderRadius:"8px"},rules:{".Input":{backgroundColor:"#334155",border:"1px solid #475569",color:"#ffffff"},".Input:focus":{border:"1px solid #3b82f6",boxShadow:"0 0 0 1px #3b82f6"},".Label":{color:"#e2e8f0",fontWeight:"500"}}}};return e.jsx(N,{stripe:s,options:r?a:void 0,children:t})}function I({amount:t,description:r,onSuccess:l,onError:s}){const a=w(),o=S(),{toast:n}=b(),[u,m]=p.useState(!1),f=async x=>{if(x.preventDefault(),!(!a||!o)){m(!0);try{const{error:c}=await a.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/payment-success`},redirect:"if_required"});if(c){const i=c.message||"Payment failed";n({title:"Payment Failed",description:i,variant:"destructive"}),s==null||s(i)}else n({title:"Payment Successful",description:"Your payment has been processed successfully!"}),l==null||l()}catch{const i="An unexpected error occurred";n({title:"Payment Error",description:i,variant:"destructive"}),s==null||s(i)}finally{m(!1)}}};return e.jsxs(h,{className:"bg-slate-900/50 border-blue-500/30",children:[e.jsxs(y,{children:[e.jsx(g,{className:"text-white flex items-center gap-2",children:"Payment Details"}),r&&e.jsx("p",{className:"text-slate-300 text-sm",children:r}),e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",t.toFixed(2)]})]}),e.jsx(P,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-slate-800/50 rounded-lg border border-slate-700",children:e.jsx(F,{options:{layout:"tabs"}})}),e.jsx(j,{type:"submit",disabled:!a||!o||u,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-3",children:u?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Payment..."]}):`Pay $${t.toFixed(2)}`})]})})]})}export{I as C,B as S};

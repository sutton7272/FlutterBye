import{r as d,b as R,aT as V,c as Y,d as N,j as e,be as M,C as n,e as l,f as c,M as b,a as r,Z as I,Y as O,g as w,bf as D,D as H,aG as f,I as v,h,B as q}from"./index-CeACcdR0.js";function W(){var T,C;const[o,y]=d.useState(""),[m,S]=d.useState(""),[x,k]=d.useState(""),[P,u]=d.useState(!1),{toast:i}=R();V();const{data:t}=Y({queryKey:["/api/admin/sms/analytics"]}),g=N({mutationFn:async s=>{const a=await fetch("/api/sms/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Failed to register");return a.json()},onSuccess:()=>{u(!0),i({title:"Registration Started",description:"Check your phone for a verification code"})},onError:s=>{i({title:"Registration Failed",description:s.message,variant:"destructive"})}}),p=N({mutationFn:async s=>{const a=await fetch("/api/sms/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Failed to verify");return a.json()},onSuccess:()=>{i({title:"Phone Verified!",description:"You can now receive emotional tokens via SMS"}),u(!1),y(""),S(""),k("")},onError:s=>{i({title:"Verification Failed",description:s.message,variant:"destructive"})}}),j=N({mutationFn:async s=>{const a=await fetch("/api/sms/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Failed to send test SMS");return a.json()},onSuccess:()=>{i({title:"Test SMS Sent",description:"Check the console for processing details"})}}),E=()=>{if(!o||!m){i({title:"Missing Information",description:"Please enter both phone number and wallet address",variant:"destructive"});return}g.mutate({phoneNumber:o,walletAddress:m})},F=()=>{if(!x){i({title:"Missing Code",description:"Please enter the verification code",variant:"destructive"});return}p.mutate({phoneNumber:o,verificationCode:x})},B=()=>{j.mutate({fromPhone:"+1234567890",toPhone:"+1987654321",message:"I'm sending you a hug ðŸ«‚ Hope you're doing well!"})};return e.jsx("div",{className:"min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:"SMS-to-Blockchain Integration"}),e.jsx("p",{className:"text-xl text-purple-200",children:"Text someone a message, and it arrives in their crypto wallet as a time-locked, emotional token"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-300",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{className:"font-mono text-lg",children:"+1 (844) BYE-TEXT"})]})]}),e.jsxs(n,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[e.jsx(l,{children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(b,{className:"h-6 w-6"}),"How It Works"]})}),e.jsx(r,{className:"text-white",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"bg-blue-500/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto",children:e.jsx(b,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-semibold",children:"Text Message"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Send a message to +1 (844) BYE-TEXT"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"bg-purple-500/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto",children:e.jsx(I,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-semibold",children:"Auto-Mint"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Message becomes a tokenized note"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"bg-green-500/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto",children:e.jsx(M,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-semibold",children:"Notification"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Recipient gets blockchain link"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"bg-red-500/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto",children:e.jsx(O,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-semibold",children:"Emotional Token"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Time-locked, burn-to-read features"})]})]})})]}),e.jsxs(n,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[e.jsxs(l,{children:[e.jsx(c,{className:"text-white",children:"Emotional Token Features"}),e.jsx(w,{className:"text-purple-200",children:"Your messages become interactive blockchain artifacts"})]}),e.jsx(r,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-orange-500/20 rounded-lg p-4 text-center",children:[e.jsx(D,{className:"h-8 w-8 mx-auto mb-2 text-orange-300"}),e.jsx("h3",{className:"text-white font-semibold",children:"Time-Locked"}),e.jsx("p",{className:"text-orange-200 text-sm",children:"Unlock after specific time"})]}),e.jsxs("div",{className:"bg-red-500/20 rounded-lg p-4 text-center",children:[e.jsx(H,{className:"h-8 w-8 mx-auto mb-2 text-red-300"}),e.jsx("h3",{className:"text-white font-semibold",children:"Burn-to-Read"}),e.jsx("p",{className:"text-red-200 text-sm",children:"Destroy token to reveal message"})]}),e.jsxs("div",{className:"bg-blue-500/20 rounded-lg p-4 text-center",children:[e.jsx(b,{className:"h-8 w-8 mx-auto mb-2 text-blue-300"}),e.jsx("h3",{className:"text-white font-semibold",children:"Reply-Gated"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Requires response to unlock"})]})]})})]}),e.jsxs(n,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[e.jsxs(l,{children:[e.jsx(c,{className:"text-white",children:"Register Your Phone"}),e.jsx(w,{className:"text-purple-200",children:"Connect your phone number to your wallet to receive emotional tokens"})]}),e.jsx(r,{className:"space-y-4",children:P?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"code",className:"text-white",children:"Verification Code"}),e.jsx(v,{id:"code",placeholder:"Enter 6-digit code",value:x,onChange:s=>k(s.target.value),className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{onClick:F,disabled:p.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:p.isPending?"Verifying...":"Verify"}),e.jsx(h,{onClick:()=>u(!1),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Back"})]})]}):e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"phone",className:"text-white",children:"Phone Number"}),e.jsx(v,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:o,onChange:s=>y(s.target.value),className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"wallet",className:"text-white",children:"Wallet Address"}),e.jsx(v,{id:"wallet",placeholder:"Your Solana wallet address",value:m,onChange:s=>S(s.target.value),className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(h,{onClick:E,disabled:g.isPending,className:"w-full bg-purple-600 hover:bg-purple-700",children:g.isPending?"Registering...":"Register Phone Number"})})]})})]}),e.jsxs(n,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[e.jsxs(l,{children:[e.jsx(c,{className:"text-white",children:"Development Testing"}),e.jsx(w,{className:"text-purple-200",children:"Test the SMS-to-blockchain functionality"})]}),e.jsxs(r,{children:[e.jsx(h,{onClick:B,disabled:j.isPending,className:"bg-blue-600 hover:bg-blue-700",children:j.isPending?"Sending...":"Send Test SMS"}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"This will simulate an incoming SMS with emotional content"})]})]}),t&&typeof t=="object"&&e.jsxs(n,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[e.jsx(l,{children:e.jsx(c,{className:"text-white",children:"SMS Analytics"})}),e.jsxs(r,{children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-300",children:(t==null?void 0:t.totalMessages)||0}),e.jsx("div",{className:"text-sm text-gray-300",children:"Total Messages"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-300",children:((T=t==null?void 0:t.emotionBreakdown)==null?void 0:T.length)||0}),e.jsx("div",{className:"text-sm text-gray-300",children:"Emotion Types"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-300",children:((C=t==null?void 0:t.recentMessages)==null?void 0:C.length)||0}),e.jsx("div",{className:"text-sm text-gray-300",children:"Recent Activity"})]})]}),(t==null?void 0:t.emotionBreakdown)&&t.emotionBreakdown.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-3",children:"Emotion Breakdown"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.emotionBreakdown.map((s,a)=>e.jsxs(q,{variant:"secondary",className:"bg-white/20 text-white",children:[s.emotionType,": ",s.count]},a))})]})]})]}),e.jsx(n,{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 backdrop-blur-sm border-white/20",children:e.jsxs(r,{className:"text-center py-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"The Future of Emotional Communication"}),e.jsx("p",{className:"text-purple-200 text-lg leading-relaxed max-w-3xl mx-auto",children:"You're not just texting someone â€” you're dropping an artifact into their emotional memory, minted forever or destroyed on sight. Suddenly, texting becomes a crypto onboarding funnel, a real-world delivery system for feelings, and a wallet-native communication layer."})]})})]})})}export{W as SmsIntegrationPage};
